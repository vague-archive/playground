var Yi=Object.defineProperty,Ki=(t,e,i)=>e in t?Yi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,f=(t,e,i)=>(Ki(t,typeof e!="symbol"?e+"":e,i),i),ui=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},x=(t,e,i)=>(ui(t,e,"read from private field"),i?i.call(t):e.get(t)),N=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},Z=(t,e,i,s)=>(ui(t,e,"write to private field"),s?s.call(t,i):e.set(t,i),i),V=(t,e,i)=>(ui(t,e,"access private method"),i);var gi=new Map;function Nt(t,e){gi.has(t)||(gi.set(t,!0),console.warn(e??t))}function C(t,e){if(t==null)throw new Error(e??"Expected value to not be null or undefined")}var Xi="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Hi=(t,e,i)=>{let s=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*s*e/t.length);return(n=e)=>{let a="";for(;;){let o=i(r),l=r;for(;l--;)if(a+=t[o[l]&s]||"",a.length===n)return a}}},Ji=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,i)=>(i&=63,i<36?e+=i.toString(36):i<62?e+=(i-26).toString(36).toUpperCase():i>62?e+="-":e+="_",e),"");function Qi(t){return Math.sqrt(t.x**2+t.y**2)}var Ti=class U{constructor(e,i){f(this,"x"),f(this,"y"),this.x=e,this.y=i}static distance(e,i){return Qi({x:i.x-e.x,y:i.y-e.y})}toString(){return`vec(${this.x}, ${this.y})`}toJSON(){return{x:this.x,y:this.y,__serializedName:U.serializedName}}static fromJSON({x:e,y:i}){return new U(e,i)}get xy(){return[this.x,this.y]}get magnitude(){return Math.sqrt(this.x**2+this.y**2)}get length(){return this.magnitude}get angle(){return Math.atan2(this.y,this.x)}add(...e){let[i,s]=d(e[0],e[1]).xy;return new U(this.x+i,this.y+s)}mutAdd(...e){let[i,s]=d(e[0],e[1]).xy;return this.x+=i,this.y+=s,this}mul(...e){let[i,s]=d(e[0],e[1]).xy;return new U(this.x*i,this.y*s)}mutMul(...e){let[i,s]=d(e[0],e[1]).xy;return new U(this.x*i,this.y*s)}div(...e){let[i,s]=d(e[0],e[1]).xy;return new U(this.x/i,this.y/s)}mutDiv(...e){let[i,s]=d(e[0],e[1]).xy;return new U(this.x/i,this.y/s)}scale(...e){let[i,s]=d(e[0],e[1]).xy;return new U(this.x*i,this.y*s)}mutScale(...e){let[i,s]=d(e[0],e[1]).xy;return this.x*=i,this.y*=s,this}subtract(...e){let[i,s]=d(e[0],e[1]).xy;return new U(this.x-i,this.y-s)}mutSubtract(...e){let[i,s]=d(e[0],e[1]).xy;return this.x-=i,this.y-=s,this}dot(...e){let[i,s]=d(e[0],e[1]).xy;return this.x*i+this.y*s}cross(...e){let[i,s]=d(e[0],e[1]).xy;return this.x*s-this.y*i}lerp(...e){if(e.length===3){let[i,s]=d(e[0],e[1]).xy,r=e[2];return new U(this.x+r*(i-this.x),this.y+r*(s-this.y))}else{let[i,s]=d(e[0]).xy,r=e[1];return new U(this.x+r*(i-this.x),this.y+r*(s-this.y))}}mutLerp(...e){if(e.length===3){let[i,s]=d(e[0],e[1]).xy,r=e[2];return this.mutAdd(r*(i-this.x),r*(s-this.y))}else{let[i,s]=d(e[0]).xy,r=e[1];return this.mutAdd(r*(i-this.x),r*(s-this.y))}}clamp(e){let i=this.magnitude;return i<=e?this:this.scale(e/i)}rotate(e){let i=Math.cos(e),s=Math.sin(e),r=this.x,n=this.y;return this.x=r*i-n*s,this.y=r*s+n*i,Math.abs(this.x)<1e-8&&(this.x=0),Math.abs(this.y)<1e-8&&(this.y=0),this}normalize(){return this.clamp(1)}mutClamp(e){let i=this.magnitude;return i<=e?this:this.mutScale(e/i)}transform(e){let i=this.x*e[0]+this.y*e[4]+e[8],s=this.x*e[1]+this.y*e[5]+e[9];return new U(i,s)}};f(Ti,"serializedName","Vector.v1");var pt=Ti;function d(...t){let[e,i]=t;if(es(e))return new pt(e.x,e.y);if(Array.isArray(e)){if(e.length!==2)throw new Error(`invalid arguments for Vector: ${t.join(", ")}`);return new pt(e[0],e[1])}if(e!==void 0&&i!==void 0)return new pt(e,i);if(e!==void 0)return new pt(e,e);throw new Error(`invalid arguments for Vector: ${t.join(", ")}`)}function es(t){return t!=null&&typeof t=="object"&&"x"in t&&"y"in t&&typeof t.x=="number"&&typeof t.y=="number"}var ts="|\xC9q\xC5",is="M",et=null,ft=null,mt=null,Ut={},Dt={};function ss(){return et||(et=document.createElement("canvas"),et.width=10,et.height=10),et}function rs(){return ft||(ft=document.createElement("canvas"),mt=ft.getContext("2d")),C(mt,"Failed to get canvas context"),mt.clearRect(0,0,1920,1080),{canvas:ft,context:mt}}function Ri(t,e){var i;return`${hi(e)} ${(i=e.color)==null?void 0:i.join(",")} ${e.align} | ${t}`}function di(t,e){let i={color:[1,1,1,1],fontFamily:"Helvetica",fontSize:24,x:0,y:0,z:0,rotation:0,scale:d(1),skew:d(0),...e},s=hi(i),r=Ri(t,i);if(Dt[r])return Dt[r];let n=ss().getContext("2d");C(n,"Failed to get canvas context"),n.font=s,n.textBaseline="top";let a;if(Ut[s])a=Ut[s];else{let y=n.measureText(ts+is);Ut[s]=a=y.actualBoundingBoxDescent+y.actualBoundingBoxAscent}let o=t.split(/(?:\r\n|\r|\n)/),l=[],c=0;for(let y of o){let S=n.measureText(y).width;l.push(S),S>c&&(c=S)}let h=o.length*a;return Dt[r]={width:c,height:h,lineWidths:l}}function ns(t,e){let{width:i,height:s}=di(t,e);Ri(t,e);let{canvas:r,context:n}=rs(),a=window.devicePixelRatio;r.width=i*a,r.height=s*a,r.style.width=`${i}px`,r.style.height=`${s}px`,r.style.imageRendering="pixelated",n.scale(a,a);let o=`rgba(${e.color.map((h,y)=>y==3?h:Math.floor(h*255)).join(",")})`;n.font=hi(e),n.textAlign=e.align??"start",n.textBaseline="top",n.fillStyle=o;let l=t.split(/(?:\r\n|\r|\n)/),c=0;for(let h of l){let y=0;e.align==="right"?y=i:e.align==="center"&&(y=i/2),n.fillText(h,y,c),c+=s/l.length}return{canvas:r,width:i,height:s}}function hi(t){let e=`${t?.fontSize??24}px`,i=t?.fontStyle??"normal",s=t?.fontWeight??"normal",r=t?.fontFamily??"Helvetica";return`${i} normal ${s} ${e} "${r}"`}var q={RED:Y(1,0,0,1),LIME:Y(0,1,0,1),BLUE:Y(0,0,1,1),YELLOW:Y(1,1,0,1),MAGENTA:Y(1,0,1,1),CYAN:Y(0,1,1,1),BLACK:Y(0,0,0,1),WHITE:Y(1,1,1,1),GRAY:Y(.4,.4,.4,1),GREEN:Y(0,.5,0,1),ORANGE:Y(1,.5,0,1)};function Y(...t){if(t.length===3||t.length===4)return[t[0],t[1],t[2],t[3]??1];if(t.length===1){let e=t[0];if(Array.isArray(e))return[e[0],e[1],e[2],e[3]??1];if(typeof e=="object")return[e.r,e.g,e.b,e.a??1]}return q.BLACK}var as=new Map([[Float32Array,()=>new Float32Array(12)],[Float64Array,()=>new Float64Array(12)],[Array,()=>new Array(12).fill(0)]]),be=as.get(Float32Array);function os(t,e){return e=e||be(),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[8]=t[8],e[9]=t[9],e[10]=t[10],e}var ls=os;function Te(t){return t=t||be(),t[0]=1,t[1]=0,t[2]=0,t[4]=0,t[5]=1,t[6]=0,t[8]=0,t[9]=0,t[10]=1,t}function cs(t,e){e=e||be();let i=t[0*4+0],s=t[0*4+1],r=t[0*4+2],n=t[1*4+0],a=t[1*4+1],o=t[1*4+2],l=t[2*4+0],c=t[2*4+1],h=t[2*4+2],y=h*a-o*c,S=-h*n+o*l,M=c*n-a*l,E=1/(i*y+s*S+r*M);return e[0]=y*E,e[1]=(-h*s+r*c)*E,e[2]=(o*s-r*a)*E,e[4]=S*E,e[5]=(h*i-r*l)*E,e[6]=(-o*i+r*n)*E,e[8]=M*E,e[9]=(-c*i+s*l)*E,e[10]=(a*i-s*n)*E,e}function us(t,e,i){i=i||be();let s=t[0],r=t[1],n=t[2],a=t[4],o=t[5],l=t[6],c=t[8],h=t[9],y=t[10],S=e[0],M=e[1],E=e[2],z=e[4],G=e[5],He=e[6],Je=e[8],Qe=e[9],Bt=e[10];return i[0]=s*S+a*M+c*E,i[1]=r*S+o*M+h*E,i[2]=n*S+l*M+y*E,i[4]=s*z+a*G+c*He,i[5]=r*z+o*G+h*He,i[6]=n*z+l*G+y*He,i[8]=s*Je+a*Qe+c*Bt,i[9]=r*Je+o*Qe+h*Bt,i[10]=n*Je+l*Qe+y*Bt,i}var Kt=us;function ds(t,e,i){i=i||{x:0,y:0};let s=e*4;return i.x=t[s+0],i.y=t[s+1],i}function Si(t,e){return e=e||be(),e[0]=1,e[1]=0,e[2]=0,e[4]=0,e[5]=1,e[6]=0,e[8]=t.x,e[9]=t.y,e[10]=1,e}function Ue(t,e,i){i=i||be();let s=e.x,r=e.y,n=t[0],a=t[1],o=t[2],l=t[1*4+0],c=t[1*4+1],h=t[1*4+2],y=t[2*4+0],S=t[2*4+1],M=t[2*4+2];return t!==i&&(i[0]=n,i[1]=a,i[2]=o,i[4]=l,i[5]=c,i[6]=h),i[8]=n*s+l*r+y,i[9]=a*s+c*r+S,i[10]=o*s+h*r+M,i}function st(t,e,i){i=i||be();let s=t[0*4+0],r=t[0*4+1],n=t[0*4+2],a=t[1*4+0],o=t[1*4+1],l=t[1*4+2],c=Math.cos(e),h=Math.sin(e);return i[0]=c*s+h*a,i[1]=c*r+h*o,i[2]=c*n+h*l,i[4]=c*a-h*s,i[5]=c*o-h*r,i[6]=c*l-h*n,t!==i&&(i[8]=t[8],i[9]=t[9],i[10]=t[10]),i}function Ft(t,e,i){i=i||be();let s=e.x,r=e.y;return i[0]=s*t[0*4+0],i[1]=s*t[0*4+1],i[2]=s*t[0*4+2],i[4]=r*t[1*4+0],i[5]=r*t[1*4+1],i[6]=r*t[1*4+2],t!==i&&(i[8]=t[8],i[9]=t[9],i[10]=t[10]),i}var R={getX(t,e){return he(t),de(e),t.world.x+(e-t.pivot.x)*t.width*t.scale.x},getY(t,e){return he(t),de(e),t.world.y+(e-t.pivot.y)*t.height*t.scale.y},getLocalX(t,e){return he(t),de(e),t.x+(e-t.pivot.x)*t.width*t.scale.x},getLocalY(t,e){return he(t),de(e),t.y+(e-t.pivot.y)*t.height*t.scale.y},setX(t,e,i){he(t),de(e),t.world.x=i-(e-t.pivot.x)*t.width*t.scale.x},setY(t,e,i){he(t),de(e),t.world.y=i-(e-t.pivot.y)*t.height*t.scale.y},setLocalX(t,e,i){he(t),de(e),t.x=i-(e-t.pivot.x)*t.width*t.scale.x},setLocalY(t,e,i){he(t),de(e),t.y=i-(e-t.pivot.y)*t.height*t.scale.y},getPoint(t,e){return{x:R.getX(t,e.x),y:R.getY(t,e.y)}},getLocalPoint(t,e){return{x:R.getLocalX(t,e.x),y:R.getLocalY(t,e.y)}},setPoint(t,e,i){R.setX(t,e.x,i.x),R.setY(t,e.y,i.y)},setLocalPoint(t,e,i){R.setLocalX(t,e.x,i.x),R.setLocalY(t,e.y,i.y)},setPosition(t,e){e.topLeft!=null&&R.setPoint(t,d(0),e.topLeft),e.left!=null&&R.setX(t,0,e.left),e.right!=null&&R.setX(t,1,e.right),e.top!=null&&R.setY(t,0,e.top),e.bottomRight!=null&&R.setPoint(t,d(0,0),e.bottomRight),e.bottom!=null&&R.setY(t,1,e.bottom),e.center!=null&&R.setPoint(t,d(.5),e.center),e.centerX!=null&&R.setX(t,.5,e.centerX),e.centerY!=null&&R.setY(t,.5,e.centerY)}};function de(t){if(0>t||t>1)throw new Error(`Point must be between 0 and 1, got: ${t}`)}function he(t){if(t.width==null)throw new Error(`Rect has no width: ${t}`);if(t.height==null)throw new Error(`Rect has no height: ${t}`)}function pi(t){let e=t.parentTransform?pi(t.parentTransform):Te();return Ue(e,t,e),st(e,t.rotation,e),Ft(e,t.scale,e),e}function Xt(t,e){let i=e?pi(e):Te();return d(t.x,t.y).transform(i)}function pe(t,e){let i=e?cs(pi(e)):Te();return d(t.x,t.y).transform(i)}function hs(t,e){let i=e.pivot??d(.5);return d(t).subtract(i).scale(e.width,e.height)}var je,$t=class se{constructor(e){if(f(this,"id"),f(this,"x"),f(this,"y"),f(this,"width"),f(this,"height"),f(this,"version",1),N(this,je,null),f(this,"color"),f(this,"isVisible",!0),f(this,"scale",d(1)),f(this,"rotation",0),f(this,"pivot"),f(this,"skew"),f(this,"texturePath"),f(this,"material"),f(this,"text"),f(this,"textOpts"),f(this,"spriteFrame"),f(this,"colorMap",[]),f(this,"label"),f(this,"tags",[]),f(this,"parent"),f(this,"parentTransform"),f(this,"camera"),f(this,"kids",[]),f(this,"isDestroyed",!1),f(this,"onPosition"),e||(e={}),typeof e=="string"&&(e=JSON.parse(e)),this.id=e.id||Ji(),e.texture?(this.texture=e.texture,this.width=e.width??e.texture.width,this.height=e.height??e.texture.height):(this.width=e.width??0,this.height=e.height||this.width),e.text){this.text=e.text,this.textOpts=e.textOpts;let{width:i,height:s}=di(e.text,e.textOpts);this.width=i,this.height=s}if(this.x=e.x||0,this.y=e.y||0,this.isVisible=e.isVisible??this.isVisible,this.rotation=e.rotation??this.rotation,this.version=e.version??this.version,Z(this,je,e.z??null),this.scale=e.scale?d(e.scale):this.scale,this.pivot=e.pivot?d(e.pivot):se.defaultPivot,this.skew=e.skew?e.skew:d(0),this.label=e.label,this.tags=typeof e.tags=="string"?e.tags.split(" "):e.tags??[],this.texturePath=e.texturePath??this.texturePath,this.spriteFrame=e.spriteFrame,this.color=e.color??(this.texturePath?q.WHITE:q.MAGENTA),this.material=e.material,this.colorMap=e.colorMap??[],this.parent=e.parent,this.camera=e.camera,e.text&&e.texturePath)throw new Error(`Gob ${e.id} can't have both text and texturePath yet`);R.setPosition(this,e),e.onPosition&&(this.onPosition=e.onPosition,e.parent&&e.onPosition(this,e.parent)),this.kids=(e.kids||[]).map(i=>{let s;return i instanceof se?s=i:s=new se({...i,z:i.z,parent:this}),s.parent=this,s.onPosition&&s.onPosition(s,this),s})}set texture(e){this.texturePath=e.path,this.width=e.width,this.height=e.height}get transform(){let e=this,i={x:e.x,y:e.y,rotation:e.rotation,scale:e.scale,skew:e.skew},s=i;for(;e.parent;)e=e.parent,s.parentTransform={x:e.x,y:e.y,rotation:e.rotation,scale:e.scale,skew:e.skew},s=s.parentTransform;return i}get transformMatrix(){var e;let i=((e=this.parent)==null?void 0:e.transformMatrix)??Te();return Ue(i,this,i),this.applySkewScaleRotation(i),i}applySkewScaleRotation(e){let i=Te();i[0]=Math.cos(this.rotation+this.skew.y)*this.scale.x,i[1]=Math.sin(this.rotation+this.skew.y)*this.scale.x,i[4]=-Math.sin(this.rotation+this.skew.x)*this.scale.y,i[5]=Math.cos(this.rotation+this.skew.x)*this.scale.y,Kt(e,i,e)}get isVisibleInTree(){return this.parent&&!this.parent.isVisibleInTree?!1:this.isVisible}get z(){return x(this,je)!=null?x(this,je):this.parent?this.parent.z:0}set z(e){Z(this,je,e)}bounds(){return[ie(d(0,0),this),ie(d(1,0),this),ie(d(1,1),this),ie(d(0,1),this)]}static revive(e){return new se(e)}static fromJSON(e){return new se(e)}toJSON(){return{...this,z:this.z,__serializedName:se.serializableName,isDestroyed:void 0,parent:void 0}}destroy(){this.isDestroyed=!0;for(let e of this.kids)e.destroy()}addKid(e){return this.add(e)}add(e){if(e instanceof se||(e.parent=this,e=new se(e)),e.id&&this.find(e.id))throw new Error(`Can't add kid with duplicate id ${e.id}. Matching kid: ${JSON.stringify(this.find(e.id))}`);return e.parent=this,this.kids.push(e),e.onPosition&&e.onPosition(e,this),e}find(e){return Li(this,e)}hasTag(e){return this.tags!=null&&this.tags.includes(e)}findTag(e){return Oi(this,e)}findVisible(){return Mi(this)}all(e){return Ei(this,e)}set pos(e){this.x=e.x,this.y=e.y}get pos(){return{x:this.x,y:this.y}}get world(){let e=this;return{get pos(){return{x:e.world.x,y:e.world.y}},set pos({x:i,y:s}){e.world.x=i,e.world.y=s},get x(){return Xt(d(e.x,e.y),e.transform.parentTransform).x},set x(i){e.x=pe(d(i),e.transform.parentTransform).x},get y(){return Xt(d(e.x,e.y),e.transform.parentTransform).y},set y(i){e.y=pe(d(i),e.transform.parentTransform).y},get width(){return e.width*e.world.scale.x},set width(i){e.width=i/e.world.scale.x},get height(){return e.height*e.world.scale.y},set height(i){e.height=i/e.world.scale.y},get scale(){var i;let s=((i=e.parent)==null?void 0:i.world.scale)??d(1);return d(e.scale).mul(s)},set scale(i){var s;let r=((s=e.parent)==null?void 0:s.world.scale)??d(1);e.scale=d(i).div(r)},get rotation(){return e.parent?yi(e.transformMatrix):e.rotation},set rotation(i){if(!e.parent){e.rotation=i;return}let s=Si(e);Ft(s,e.scale,s),st(s,e.rotation,s),st(s,-e.world.rotation,s),e.rotation=yi(st(s,i))}}}get topLeft(){return ie(d(0,0),this)}set topLeft(e){this.top=e.y,this.left=e.x}get topRight(){return ie(d(1,0),this)}set topRight(e){this.top=e.y,this.right=e.x}get bottomRight(){return ie(d(1,1),this)}set bottomRight(e){this.bottom=e.y,this.right=e.x}get bottomLeft(){return ie(d(0,1),this)}set bottomLeft(e){this.bottom=e.y,this.left=e.x}get center(){return ie(d(.5,.5),this)}set center(e){this.centerX=e.x,this.centerY=e.y}get top(){return this.topLeft.y}set top(e){let i=e-(0-this.pivot.y)*this.world.height;this.y=pe(d(i),this.transform.parentTransform).y}get bottom(){return this.bottomLeft.y}set bottom(e){let i=e-(1-this.pivot.y)*this.world.height;this.y=pe(d(i),this.transform.parentTransform).y}get left(){return this.topLeft.x}set left(e){let i=e-(0-this.pivot.x)*this.world.width;this.x=pe(d(i),this.transform.parentTransform).x}get right(){return this.topRight.x}set right(e){let i=e-(1-this.pivot.x)*this.world.width;this.x=pe(d(i),this.transform.parentTransform).x}get centerX(){return this.center.x}set centerX(e){let i=e-(.5-this.pivot.x)*this.world.width;this.x=pe(d(i),this.transform.parentTransform).x}get centerY(){return this.center.y}set centerY(e){let i=e-(.5-this.pivot.y)*this.world.height;this.y=pe(d(i),this.transform.parentTransform).y}};je=new WeakMap,f($t,"serializedName","Gob.v1"),f($t,"defaultPivot",d(.5)),f($t,"serializableName","Gob.v1");function Li(t,e){if(t.id===e)return t;for(let i of t.kids){let s=Li(i,e);if(s)return s}return null}function Oi(t,e){let i=[];t.tags.includes(e)&&i.push(t);for(let s of t.kids)i.push(...Oi(s,e));return i}function Ei(t,e){let i=[];e(t)&&i.push(t);for(let s of t.kids)i.push(...Ei(s,e));return i}function Mi(t){let e=[];t.isVisible&&e.push(t);for(let i of t.kids)i.isVisible&&e.push(...Mi(i));return e}function ie(t,e){return Xt(hs(t,e),e.transform)}function yi(t){let e=ds(t,0);return Math.atan2(e.y,e.x)}var Ht=class yt{constructor(e){f(this,"x"),f(this,"y"),f(this,"z"),f(this,"color"),f(this,"width"),f(this,"height"),f(this,"rotation"),f(this,"scale"),f(this,"skew"),f(this,"pivot"),f(this,"camera"),this.x=e.x??0,this.y=e.y??0,this.z=e.z??0,this.width=e.width,this.height=e.height||e.width,this.scale=e.scale?d(e.scale):d(1),this.skew=e.skew?e.skew:d(0),this.pivot=e.pivot?d(e.pivot):yt.defaultPivot,this.rotation=e.rotation||0,this.color=e.color||[1,0,1,1],this.camera=e.camera,R.setPosition(this,e)}get world(){let e=this;return{get position(){return{x:e.world.x,y:e.world.y}},set position({x:i,y:s}){e.world.x=i,e.world.y=s},get x(){return e.x},set x(i){e.x=i},get y(){return e.y},set y(i){e.y=i}}}bounds(){let e=this.pivot.scale(this.width,this.height),i=[d(0,0),d(this.width,0),d(this.width,this.height),d(0,this.height)].map(o=>o.subtract(e).scale(this.scale).rotate(this.rotation).add(this.x,this.y)),s=1/0,r=-1/0,n=1/0,a=-1/0;for(let o of i)s=Math.min(s,o.x),r=Math.max(r,o.x),n=Math.min(n,o.y),a=Math.max(a,o.y);return{points:i,x1:s,x2:r,y1:n,y2:a}}static fromJSON(e){return new yt(e)}toJSON(){return{...this,__serializedName:yt.serializedName}}get top(){return R.getY(this,0)}set top(e){R.setY(this,0,e)}get bottom(){return R.getY(this,1)}set bottom(e){R.setY(this,1,e)}get left(){return R.getX(this,0)}set left(e){R.setX(this,0,e)}get right(){return R.getX(this,1)}set right(e){R.setX(this,1,e)}get centerX(){return R.getX(this,.5)}set centerX(e){R.setX(this,.5,e)}get centerY(){return R.getY(this,.5)}set centerY(e){R.setY(this,.5,e)}get topLeft(){return R.getPoint(this,d(0))}set topLeft(e){R.setPoint(this,d(0),e)}get topRight(){return R.getPoint(this,d(1,0))}set topRight(e){R.setPoint(this,d(1,0),e)}get bottomRight(){return R.getPoint(this,d(1))}set bottomRight(e){R.setPoint(this,d(1),e)}get bottomLeft(){return R.getPoint(this,d(0,1))}set bottomLeft(e){R.setPoint(this,d(0,1),e)}get center(){return R.getPoint(this,d(.5))}set center(e){R.setPoint(this,d(.5),e)}};f(Ht,"defaultPivot",d(.5)),f(Ht,"serializedName","Rect.v1");var Ci=Ht;function fi(){return{keyboard:{down:new Set,up:new Set},mouse:{down:new Set,up:new Set,x:0,y:0},gamepads:[]}}var A=(t=>(t[t.Null=0]="Null",t[t.Left=1]="Left",t[t.Right=2]="Right",t))(A||{}),tt=(t=>(t[t.Null=0]="Null",t[t.Gamepad=1]="Gamepad",t[t.Touch=2]="Touch",t[t.Mouse=3]="Mouse",t[t.Keyboard=4]="Keyboard",t[t.Custom=5]="Custom",t))(tt||{}),u=(t=>(t[t.Null=0]="Null",t[t.LeftFaceTop=1]="LeftFaceTop",t[t.LeftFaceRight=2]="LeftFaceRight",t[t.LeftFaceBottom=3]="LeftFaceBottom",t[t.LeftFaceLeft=4]="LeftFaceLeft",t[t.LeftShoulderFront=5]="LeftShoulderFront",t[t.LeftShoulderBack=6]="LeftShoulderBack",t[t.LeftThumbstick=7]="LeftThumbstick",t[t.RightFaceTop=8]="RightFaceTop",t[t.RightFaceRight=9]="RightFaceRight",t[t.RightFaceBottom=10]="RightFaceBottom",t[t.RightFaceLeft=11]="RightFaceLeft",t[t.RightShoulderFront=12]="RightShoulderFront",t[t.RightShoulderBack=13]="RightShoulderBack",t[t.RightThumbstick=14]="RightThumbstick",t[t.Middle=15]="Middle",t[t.MiddleLeft=16]="MiddleLeft",t[t.MiddleRight=17]="MiddleRight",t))(u||{}),P=(t=>(t[t.Null=0]="Null",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Middle=3]="Middle",t))(P||{}),Zt=(t=>(t[t.Null=0]="Null",t[t.ArrowDown=1]="ArrowDown",t[t.ArrowLeft=2]="ArrowLeft",t[t.ArrowRight=3]="ArrowRight",t[t.ArrowUp=4]="ArrowUp",t[t.Backspace=5]="Backspace",t[t.Tab=6]="Tab",t[t.CapsLock=7]="CapsLock",t[t.Enter=8]="Enter",t[t.ShiftLeft=9]="ShiftLeft",t[t.ShiftRight=10]="ShiftRight",t[t.ControlLeft=11]="ControlLeft",t[t.MetaLeft=12]="MetaLeft",t[t.AltLeft=13]="AltLeft",t[t.Space=14]="Space",t[t.AltRight=15]="AltRight",t[t.MetaRight=16]="MetaRight",t[t.ContextMenu=17]="ContextMenu",t[t.ControlRight=18]="ControlRight",t[t.Backquote=19]="Backquote",t[t.Digit1=20]="Digit1",t[t.Digit2=21]="Digit2",t[t.Digit3=22]="Digit3",t[t.Digit4=23]="Digit4",t[t.Digit5=24]="Digit5",t[t.Digit6=25]="Digit6",t[t.Digit7=26]="Digit7",t[t.Digit8=27]="Digit8",t[t.Digit9=28]="Digit9",t[t.Digit0=29]="Digit0",t[t.Minus=30]="Minus",t[t.Equal=31]="Equal",t[t.IntlYen=32]="IntlYen",t[t.Q=33]="Q",t[t.W=34]="W",t[t.E=35]="E",t[t.R=36]="R",t[t.T=37]="T",t[t.Y=38]="Y",t[t.U=39]="U",t[t.I=40]="I",t[t.O=41]="O",t[t.P=42]="P",t[t.BracketLeft=43]="BracketLeft",t[t.BracketRight=44]="BracketRight",t[t.Backslash=45]="Backslash",t[t.A=46]="A",t[t.S=47]="S",t[t.D=48]="D",t[t.F=49]="F",t[t.G=50]="G",t[t.H=51]="H",t[t.J=52]="J",t[t.K=53]="K",t[t.L=54]="L",t[t.Semicolon=55]="Semicolon",t[t.Quote=56]="Quote",t[t.IntlBackslash=57]="IntlBackslash",t[t.Z=58]="Z",t[t.X=59]="X",t[t.C=60]="C",t[t.V=61]="V",t[t.B=62]="B",t[t.N=63]="N",t[t.M=64]="M",t[t.Comma=65]="Comma",t[t.Period=66]="Period",t[t.Slash=67]="Slash",t[t.IntlRo=68]="IntlRo",t[t.Escape=69]="Escape",t))(Zt||{});function Jt(t,e,i){return new Uint8Array(t.buffer,t.byteOffset+e,i)}var Be=class{constructor(e,i=0){f(this,"offset"),f(this,"bitOffset"),f(this,"dataView"),f(this,"decoder"),f(this,"bytes"),this.offset=i,this.bitOffset=0,this.bytes=e,this.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),this.decoder=new TextDecoder}peek(){return this.offset<this.bytes.length}readBool(){let e=!!(this.dataView.getUint8(this.offset)&1<<this.bitOffset++);return this.bitOffset==8&&(this.bitOffset=0,this.offset++),e}readByte(){return this.readUint8()}readUint8(){return this.getNextOffset(1),this.dataView.getUint8(this.offset++)}readUint16(){this.getNextOffset(2);let e=this.dataView.getUint16(this.offset,!0);return this.offset+=2,e}readInt16(){this.getNextOffset(2);let e=this.dataView.getInt16(this.offset,!0);return this.offset+=2,e}readUint32(){this.getNextOffset(4);let e=this.dataView.getUint32(this.offset,!0);return this.offset+=4,e}readDouble(){this.getNextOffset(8);let e=this.dataView.getFloat64(this.offset,!0);return this.offset+=8,e}readFloat(){this.getNextOffset(4);let e=this.dataView.getFloat32(this.offset,!0);return this.offset+=4,e}readString(){this.getNextOffset(4);let e=this.readUint32(),i=Jt(this.bytes,this.offset,e),s=this.decoder.decode(i);return this.offset+=e,s}getNextOffset(e){if(this.bitOffset>0&&(this.bitOffset=0,this.offset++),this.offset+e>this.bytes.length)throw new Error(`Tried to read ${e} bytes, but only ${this.bytes.length-this.offset} remain`)}},rt=class{constructor(e,i=0){f(this,"buffer"),f(this,"offset"),f(this,"bitOffset"),f(this,"dataView"),f(this,"encoder"),this.buffer=typeof e=="number"?new Uint8Array(e):e??new Uint8Array,this.dataView=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),this.offset=i,this.bitOffset=0,this.encoder=new TextEncoder}writeBool(e){this.buffer[this.offset]|=(e?1:0)<<this.bitOffset++,this.bitOffset==8&&(this.offset++,this.bitOffset=0)}writeUInt8(e){if(256<=e||e<0)throw new Error(`OverflowException: Tried to write byte ${e}, must be 0-255`);this.checkOffsets(1),this.dataView.setUint8(this.offset,e),this.offset+=1}writeUInt16(e){if(65536<=e||e<0)throw new Error(`OverflowException: Tried to write ushort ${e}, must be 0-65535`);this.checkOffsets(2),this.dataView.setUint16(this.offset,e,!0),this.offset+=2}writeInt16(e){if(32768<=e||e<-32768)throw new Error(`OverflowException: Tried to write short ${e}, must be -32768-32767`);this.checkOffsets(2),this.dataView.setInt16(this.offset,e,!0),this.offset+=2}writeUInt32(e){if(4294967295<e||e<0)throw new Error(`OverflowException: Tried to write uint ${e}, must be 0-4294967295`);this.checkOffsets(4),this.dataView.setUint32(this.offset,e,!0),this.offset+=4}writeByte(e){this.writeUInt8(e)}writeFloat(e){this.checkOffsets(4),this.dataView.setFloat32(this.offset,e,!0),this.offset+=4}writeDouble(e){this.checkOffsets(8),this.dataView.setFloat64(this.offset,e,!0),this.offset+=8}writeString(e){let i=this.encoder.encode(e);this.writeUInt32(i.length),this.checkOffsets(i.length),this.buffer.set(i,this.offset),this.offset+=i.length}checkOffsets(e){if(this.bitOffset>0&&(this.offset++,this.bitOffset=0),this.offset+e>this.buffer.length)throw new Error(`Tried to write ${e} bytes but we only have ${this.buffer.length-this.offset} left.`)}},at=20,ot=2,ps=4,St=1+16*2,vi=128,Vt=St,Qt=6,fs=1,qt=St+Qt,De=class t{static encodeSnapshot(e,i,s){t.encodeKeyboard(e,i.keyboard,s),t.encodeMouse(e,i.mouse,s),t.encodeGamepads(e,i.gamepads,s)}static decodeSnapshot(e,i,s){return i??(i=fi()),t.decodeKeyboard(e,i.keyboard,s),t.decodeMouse(e,i.mouse,s),t.decodeGamepads(e,i.gamepads,s),i}static encodeKeyboard(e,i,s){let{down:r,up:n}=i;s??(s=new rt(Jt(e,0,St))),s.writeUInt8(tt.Keyboard);for(let a=0;a<vi;a++)s.writeBool(r.has(a)),s.writeBool(n.has(a));return s.buffer}static decodeKeyboard(e,i,s){i??(i={down:new Set,up:new Set}),s??(s=new Be(e,0));let r=s.readUint8();if(r!==tt.Keyboard)throw new Error(`Expected to read keyboard input at current position, got: ${r}`);for(let n=0;n<vi;n++)s.readBool()&&i.down.add(n),s.readBool()&&i.up.add(n);return i}static encodeMouse(e,i,s){return s??(s=new rt(Jt(e,Vt,Qt))),s.writeUInt8(tt.Mouse),s.writeInt16(i.x),s.writeInt16(i.y),s.writeBool(i.down.has(P.Left)),s.writeBool(i.up.has(P.Left)),s.writeBool(i.down.has(P.Right)),s.writeBool(i.up.has(P.Right)),s.writeBool(i.down.has(P.Middle)),s.writeBool(i.up.has(P.Middle)),s.buffer}static decodeMouse(e,i,s){if(i??(i={x:0,y:0,down:new Set,up:new Set}),s??(s=new Be(e,Vt)),s.readUint8()!=tt.Mouse)throw new Error(`Expected to read mouse input at position ${Vt}: ${e}`);return i.x=s.readInt16(),i.y=s.readInt16(),s.readBool()&&i.down.add(P.Left),s.readBool()&&i.up.add(P.Left),s.readBool()&&i.down.add(P.Right),s.readBool()&&i.up.add(P.Right),s.readBool()&&i.down.add(P.Middle),s.readBool()&&i.up.add(P.Middle),i}static byteLength(e=at,i=ot,s=ps){return St+Qt+fs+this.gamepadByteLength(e,i)*s}static gamepadByteLength(e=at,i=ot){return 3+9*e+17*i+2+e+e}static encodeGamepads(e,i,s){let r=qt;s??(s=new rt(e,r)),s.writeByte(i.length);for(let n=0;n<i.length;n++)t.encodeGamepad(e,i[n],s)}static encodeGamepad(e,i,s){s.writeUInt8(i.index),s.writeUInt8(i.buttons.length),s.writeUInt8(i.axes.length);for(let r of i.buttons)s.writeUInt8(r.position??u.Null),s.writeDouble(r.value);for(let r of i.axes)s.writeByte(r.hand??A.Null),s.writeDouble(r.value[0]),s.writeDouble(r.value[1]);s.writeUInt8(i.down.size),s.writeUInt8(i.up.size);for(let r of i.down)s.writeUInt8(r);for(let r of i.up)s.writeUInt8(r);return s.buffer}static decodeGamepads(e,i,s){i??(i=[]);let r=qt;s??(s=new Be(e,qt));let n=s.readByte();for(;i.length>n;)i.pop();for(let a=0;a<n;a++)i[a]=t.decodeGamepad(e.subarray(r),i[a],s);return i}static decodeGamepad(e,i,s){i??(i={index:0,axes:[],buttons:[],down:new Set,up:new Set}),s??(s=new Be(e)),i.index=s.readUint8();let r=s.readUint8(),n=s.readUint8();for(let l=0;l<r;l++){let c=s.readUint8(),h=s.readDouble(),y=ms(i,l,c);y.position=c,y.value=h}for(let l=0;l<n;l++){let c=s.readUint8(),h=s.readDouble(),y=s.readDouble(),S=gs(i,l,c);S.hand=c,S.value=[h,y]}let a=s.readUint8(),o=s.readUint8();for(let l=0;l<a;l++)i.down.add(s.readUint8());for(let l=0;l<o;l++)i.up.add(s.readUint8());return i}};function ms(t,e,i){let s=t.buttons[e]||t.buttons.find(r=>r.position===i);return s||(s={position:i,value:0},t.buttons.push(s)),s}function gs(t,e,i){let s=t.axes[e]||t.axes.find(r=>r.hand===i);return s||(s={value:[0,0],hand:i},t.axes.push(s)),s}var ys=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"],vs=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","afraid","african","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","american","amused","ancient","ancient","angry","angry","annoyed","annual","anonymous","anxious","anxious","appalling","apparent","applicable","appropriate","arab","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","ashamed","asian","asleep","assistant","associated","atomic","attractive","australian","automatic","autonomous","available","average","average","average","awake","aware","awful","awful","awkward","back","bad","bad","bad","balanced","bare","basic","beautiful","beautiful","beautiful","beneficial","better","bewildered","big","big","big","binding","biological","bitter","bitter","bizarre","black","black","blank","blind","blonde","bloody","bloody","blue","blue","blushing","boiling","bold","bored","bored","boring","bottom","brainy","brave","brave","breakable","breezy","brief","brief","bright","bright","bright","brilliant","british","broad","broad","broken","broken","brown","bumpy","burning","busy","busy","calm","calm","canadian","capable","capitalist","careful","careful","casual","catholic","causal","cautious","cautious","central","certain","changing","characteristic","charming","charming","cheap","cheerful","cheerful","chemical","chief","chilly","chinese","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clean","clear","clear","clever","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concerned","concrete","condemned","confident","confidential","confused","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","crazy","crazy","creative","creepy","creepy","criminal","critical","crooked","crooked","crowded","crucial","crude","cruel","cruel","cuddly","cultural","curious","curious","curly","current","curved","cute","daily","damaged","damp","damp","dangerous","dangerous","dark","dark","dead","dead","deaf","deafening","dear","decent","decisive","deep","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delicious","delighted","delightful","delightful","democratic","dependent","depressed","depressed","desirable","desperate","detailed","determined","determined","developed","developing","devoted","different","different","difficult","difficult","digital","diplomatic","direct","dirty","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dry","dual","due","dull","dull","dull","dusty","dutch","dying","dynamic","eager","eager","early","early","eastern","easy","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","elegant","eligible","embarrassed","embarrassed","embarrassing","emotional","empirical","empty","empty","enchanting","encouraging","encouraging","endless","energetic","english","enormous","enthusiastic","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","european","eventual","everyday","evident","evil","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","faint","fair","fair","faithful","faithful","familiar","famous","famous","fancy","fantastic","fantastic","far","fascinating","fashionable","fast","fast","fat","fat","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","fierce","filthy","filthy","final","financial","fine","fine","firm","fiscal","fit","fixed","flaky","flat","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","french","frequent","fresh","fresh","friendly","friendly","friendly","frightened","frightened","front","frozen","fucking","full","full-time","fun","functional","fundamental","funny","funny","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","gentle","genuine","geographical","german","giant","giant","gigantic","gigantic","given","glad","glamorous","gleaming","global","glorious","glorious","golden","good","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","great","great","greek","green","green","grey","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","handsome","happy","happy","happy","hard","hard","harsh","harsh","head","healthy","healthy","heavy","heavy","helpful","helpful","helpful","helpless","helpless","hidden","high","high","high-pitched","hilarious","hissing","historic","historical","hollow","holy","homeless","homeless","homely","hon","honest","horizontal","horrible","horrible","hostile","hot","hot","huge","huge","human","hungry","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","ill","illegal","imaginative","immediate","immense","immense","imperial","implicit","important","important","impossible","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indian","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","iraqi","irish","irrelevant","islamic","isolated","israeli","italian","itchy","japanese","jealous","jewish","jittery","joint","jolly","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","kind","kind","known","korean","labour","large","large","large-scale","late","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","light","light","like","likely","limited","linear","linguistic","liquid","literary","little","little","live","lively","lively","living","local","logical","lonely","lonely","long","long","long","long","long-term","loose","loose","lost","loud","loud","lovely","lovely","low","low","loyal","ltd","lucky","lucky","mad","magenta","magic","magnetic","magnificent","magnificent","main","major","male","mammoth","managerial","managing","manual","many","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","middle-class","mighty","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modern","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","mysterious","naked","narrow","narrow","nasty","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","nervous","net","neutral","new","new","nice","nice","nineteenth-century","noble","noisy","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","odd","official","ok","okay","old","old","old-fashioned","old-fashioned","olympic","only","open","open","operational","opposite","optimistic","oral","orange","orange","ordinary","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","outstanding","overall","overseas","overwhelming","painful","pale","palestinian","panicky","parallel","parental","parliamentary","part-time","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","perfect","permanent","persistent","personal","petite","philosophical","physical","pink","plain","plain","planned","plastic","pleasant","pleasant","pleased","poised","polish","polite","political","poor","poor","popular","positive","possible","post-war","potential","powerful","powerful","practical","precious","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","pretty","previous","prickly","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","proud","provincial","psychiatric","psychological","public","puny","pure","purple","purple","purring","puzzled","puzzled","quaint","quaint","qualified","quick","quick","quick","quickest","quiet","quiet","quiet","racial","radical","rainy","rainy","random","rapid","rapid","rare","rare","raspy","rational","ratty","raw","ready","real","real","realistic","rear","reasonable","recent","red","red","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","roman","romantic","rotten","rough","rough","round","round","round","royal","rubber","rude","ruling","running","rural","russian","sacred","sad","sad","safe","salty","satisfactory","satisfied","scared","scary","scary","scattered","scientific","scornful","scottish","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shallow","shared","sharp","sharp","sheer","shiny","shivering","shocked","short","short","short","short","short-term","shrill","shy","shy","sick","significant","silent","silent","silky","silly","silly","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","slow","small","small","smart","smiling","smoggy","smooth","smooth","so-called","social","socialist","soft","soft","soft","solar","sole","solid","solid","sophisticated","sore","sorry","sound","sound","sour","southern","soviet","spanish","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","splendid","spontaneous","sporting","spotless","spotty","square","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steady","steep","steep","sticky","sticky","stiff","still","stingy","stormy","straight","straight","straightforward","strange","strange","strange","strategic","strict","striking","striped","strong","strong","structural","stuck","stupid","stupid","subjective","subsequent","substantial","subtle","successful","successful","successive","sudden","sufficient","suitable","sunny","super","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","sweet","swift","swiss","symbolic","sympathetic","systematic","tall","tall","tall","tame","tame","tan","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tender","tender","tense","terrible","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tight","tiny","tiny","tired","tired","top","tory","total","tough","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","turkish","typical","ugliest","ugly","ugly","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unusual","unwilling","upper","upset","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","vast","verbal","vertical","very","victorian","victorious","video-taped","violent","visible","visiting","visual","vital","vivacious","vivid","vocational","voiceless","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","weak","wealthy","weary","wee","weekly","weird","welcome","well","well-known","welsh","western","wet","wet","wet","whispering","white","whole","wicked","wicked","wide","wide","wide-eyed","widespread","wild","wild","willing","wise","witty","wonderful","wonderful","wonderful","wooden","wooden","working","working-class","worldwide","worried","worried","worrying","worthwhile","worthy","written","wrong","wrong","yellow","yellow","young","young","yummy","zany","zany","zealous"],L;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function i(r){throw new Error}t.assertNever=i,t.arrayToEnum=r=>{let n={};for(let a of r)n[a]=a;return n},t.getValidEnumValues=r=>{let n=t.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),a={};for(let o of n)a[o]=r[o];return t.objectValues(a)},t.objectValues=r=>t.objectKeys(r).map(function(n){return r[n]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{let n=[];for(let a in r)Object.prototype.hasOwnProperty.call(r,a)&&n.push(a);return n},t.find=(r,n)=>{for(let a of r)if(n(a))return a},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,n=" | "){return r.map(a=>typeof a=="string"?`'${a}'`:a).join(n)}t.joinValues=s,t.jsonStringifyReplacer=(r,n)=>typeof n=="bigint"?n.toString():n})(L||(L={}));var ei;(function(t){t.mergeShapes=(e,i)=>({...e,...i})})(ei||(ei={}));var m=L.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),me=t=>{switch(typeof t){case"undefined":return m.undefined;case"string":return m.string;case"number":return isNaN(t)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":return Array.isArray(t)?m.array:t===null?m.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?m.promise:typeof Map<"u"&&t instanceof Map?m.map:typeof Set<"u"&&t instanceof Set?m.set:typeof Date<"u"&&t instanceof Date?m.date:m.object;default:return m.unknown}},p=L.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),bs=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),D=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};let i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let i=e||function(n){return n.message},s={_errors:[]},r=n=>{for(let a of n.issues)if(a.code==="invalid_union")a.unionErrors.map(r);else if(a.code==="invalid_return_type")r(a.returnTypeError);else if(a.code==="invalid_arguments")r(a.argumentsError);else if(a.path.length===0)s._errors.push(i(a));else{let o=s,l=0;for(;l<a.path.length;){let c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(i(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return r(this),s}toString(){return this.message}get message(){return JSON.stringify(this.issues,L.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=i=>i.message){let i={},s=[];for(let r of this.issues)r.path.length>0?(i[r.path[0]]=i[r.path[0]]||[],i[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:i}}get formErrors(){return this.flatten()}};D.create=t=>new D(t);var lt=(t,e)=>{let i;switch(t.code){case p.invalid_type:t.received===m.undefined?i="Required":i=`Expected ${t.expected}, received ${t.received}`;break;case p.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,L.jsonStringifyReplacer)}`;break;case p.unrecognized_keys:i=`Unrecognized key(s) in object: ${L.joinValues(t.keys,", ")}`;break;case p.invalid_union:i="Invalid input";break;case p.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${L.joinValues(t.options)}`;break;case p.invalid_enum_value:i=`Invalid enum value. Expected ${L.joinValues(t.options)}, received '${t.received}'`;break;case p.invalid_arguments:i="Invalid function arguments";break;case p.invalid_return_type:i="Invalid function return type";break;case p.invalid_date:i="Invalid date";break;case p.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(i=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?i=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?i=`Invalid input: must end with "${t.validation.endsWith}"`:L.assertNever(t.validation):t.validation!=="regex"?i=`Invalid ${t.validation}`:i="Invalid";break;case p.too_small:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:i="Invalid input";break;case p.too_big:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?i=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:i="Invalid input";break;case p.custom:i="Invalid input";break;case p.invalid_intersection_types:i="Intersection results could not be merged";break;case p.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;case p.not_finite:i="Number must be finite";break;default:i=e.defaultError,L.assertNever(t)}return{message:i}},Ii=lt;function ws(t){Ii=t}function Lt(){return Ii}var Ot=t=>{let{data:e,path:i,errorMaps:s,issueData:r}=t,n=[...i,...r.path||[]],a={...r,path:n},o="",l=s.filter(c=>!!c).slice().reverse();for(let c of l)o=c(a,{data:e,defaultError:o}).message;return{...r,path:n,message:r.message||o}},xs=[];function g(t,e){let i=Ot({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Lt(),lt].filter(s=>!!s)});t.common.issues.push(i)}var F=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,i){let s=[];for(let r of i){if(r.status==="aborted")return _;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,i){let s=[];for(let r of i)s.push({key:await r.key,value:await r.value});return t.mergeObjectSync(e,s)}static mergeObjectSync(e,i){let s={};for(let r of i){let{key:n,value:a}=r;if(n.status==="aborted"||a.status==="aborted")return _;n.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof a.value<"u"||r.alwaysSet)&&(s[n.value]=a.value)}return{status:e.value,value:s}}},_=Object.freeze({status:"aborted"}),Ai=t=>({status:"dirty",value:t}),j=t=>({status:"valid",value:t}),ti=t=>t.status==="aborted",ii=t=>t.status==="dirty",ct=t=>t.status==="valid",Et=t=>typeof Promise<"u"&&t instanceof Promise,b;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(b||(b={}));var W=class{constructor(e,i,s,r){this._cachedPath=[],this.parent=e,this.data=i,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},bi=(t,e)=>{if(ct(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let i=new D(t.common.issues);return this._error=i,this._error}}};function k(t){if(!t)return{};let{errorMap:e,invalid_type_error:i,required_error:s,description:r}=t;if(e&&(i||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(n,a)=>n.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:s??a.defaultError}:{message:i??a.defaultError},description:r}}var T=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return me(e.data)}_getOrReturnCtx(e,i){return i||{common:e.parent.common,data:e.data,parsedType:me(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new F,ctx:{common:e.parent.common,data:e.data,parsedType:me(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let i=this._parse(e);if(Et(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(e){let i=this._parse(e);return Promise.resolve(i)}parse(e,i){let s=this.safeParse(e,i);if(s.success)return s.data;throw s.error}safeParse(e,i){var s;let r={common:{issues:[],async:(s=i?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:i?.errorMap},path:i?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:me(e)},n=this._parseSync({data:e,path:r.path,parent:r});return bi(r,n)}async parseAsync(e,i){let s=await this.safeParseAsync(e,i);if(s.success)return s.data;throw s.error}async safeParseAsync(e,i){let s={common:{issues:[],contextualErrorMap:i?.errorMap,async:!0},path:i?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:me(e)},r=this._parse({data:e,path:s.path,parent:s}),n=await(Et(r)?r:Promise.resolve(r));return bi(s,n)}refine(e,i){let s=r=>typeof i=="string"||typeof i>"u"?{message:i}:typeof i=="function"?i(r):i;return this._refinement((r,n)=>{let a=e(r),o=()=>n.addIssue({code:p.custom,...s(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,i){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof i=="function"?i(s,r):i),!1))}_refinement(e){return new $({schema:this,typeName:w.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Q.create(this,this._def)}nullable(){return ue.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ce.create(this,this._def)}promise(){return ve.create(this,this._def)}or(e){return Ce.create([this,e],this._def)}and(e){return Ie.create(this,e,this._def)}transform(e){return new $({...k(this._def),schema:this,typeName:w.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let i=typeof e=="function"?e:()=>e;return new Ze({...k(this._def),innerType:this,defaultValue:i,typeName:w.ZodDefault})}brand(){return new At({typeName:w.ZodBranded,type:this,...k(this._def)})}catch(e){let i=typeof e=="function"?e:()=>e;return new Ge({...k(this._def),innerType:this,catchValue:i,typeName:w.ZodCatch})}describe(e){let i=this.constructor;return new i({...this._def,description:e})}pipe(e){return ut.create(this,e)}readonly(){return Ke.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},_s=/^c[^\s-]{8,}$/i,ks=/^[a-z][a-z0-9]*$/,Ts=/^[0-9A-HJKMNP-TV-Z]{26}$/,Rs=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ss=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ls="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Wt,Os=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Es=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ms=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Cs(t,e){return!!((e==="v4"||!e)&&Os.test(t)||(e==="v6"||!e)&&Es.test(t))}var ge=class t extends T{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==m.string){let r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.string,received:r.parsedType}),_}let i=new F,s;for(let r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:p.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if(r.kind==="max")e.data.length>r.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:p.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if(r.kind==="length"){let n=e.data.length>r.value,a=e.data.length<r.value;(n||a)&&(s=this._getOrReturnCtx(e,s),n?g(s,{code:p.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&g(s,{code:p.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),i.dirty())}else if(r.kind==="email")Ss.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"email",code:p.invalid_string,message:r.message}),i.dirty());else if(r.kind==="emoji")Wt||(Wt=new RegExp(Ls,"u")),Wt.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"emoji",code:p.invalid_string,message:r.message}),i.dirty());else if(r.kind==="uuid")Rs.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"uuid",code:p.invalid_string,message:r.message}),i.dirty());else if(r.kind==="cuid")_s.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"cuid",code:p.invalid_string,message:r.message}),i.dirty());else if(r.kind==="cuid2")ks.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"cuid2",code:p.invalid_string,message:r.message}),i.dirty());else if(r.kind==="ulid")Ts.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"ulid",code:p.invalid_string,message:r.message}),i.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),g(s,{validation:"url",code:p.invalid_string,message:r.message}),i.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"regex",code:p.invalid_string,message:r.message}),i.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(s=this._getOrReturnCtx(e,s),g(s,{code:p.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),i.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(s=this._getOrReturnCtx(e,s),g(s,{code:p.invalid_string,validation:{startsWith:r.value},message:r.message}),i.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(s=this._getOrReturnCtx(e,s),g(s,{code:p.invalid_string,validation:{endsWith:r.value},message:r.message}),i.dirty()):r.kind==="datetime"?Ms(r).test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:p.invalid_string,validation:"datetime",message:r.message}),i.dirty()):r.kind==="ip"?Cs(e.data,r.version)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"ip",code:p.invalid_string,message:r.message}),i.dirty()):L.assertNever(r);return{status:i.value,value:e.data}}_regex(e,i,s){return this.refinement(r=>e.test(r),{validation:i,code:p.invalid_string,...b.errToObj(s)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...b.errToObj(e)})}url(e){return this._addCheck({kind:"url",...b.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...b.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...b.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...b.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...b.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...b.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...b.errToObj(e)})}datetime(e){var i;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(i=e?.offset)!==null&&i!==void 0?i:!1,...b.errToObj(e?.message)})}regex(e,i){return this._addCheck({kind:"regex",regex:e,...b.errToObj(i)})}includes(e,i){return this._addCheck({kind:"includes",value:e,position:i?.position,...b.errToObj(i?.message)})}startsWith(e,i){return this._addCheck({kind:"startsWith",value:e,...b.errToObj(i)})}endsWith(e,i){return this._addCheck({kind:"endsWith",value:e,...b.errToObj(i)})}min(e,i){return this._addCheck({kind:"min",value:e,...b.errToObj(i)})}max(e,i){return this._addCheck({kind:"max",value:e,...b.errToObj(i)})}length(e,i){return this._addCheck({kind:"length",value:e,...b.errToObj(i)})}nonempty(e){return this.min(1,b.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxLength(){let e=null;for(let i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}};ge.create=t=>{var e;return new ge({checks:[],typeName:w.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};function Is(t,e){let i=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=i>s?i:s,n=parseInt(t.toFixed(r).replace(".","")),a=parseInt(e.toFixed(r).replace(".",""));return n%a/Math.pow(10,r)}var Re=class t extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==m.number){let r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.number,received:r.parsedType}),_}let i,s=new F;for(let r of this._def.checks)r.kind==="int"?L.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:p.invalid_type,expected:"integer",received:"float",message:r.message}),s.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="multipleOf"?Is(e.data,r.value)!==0&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:p.not_finite,message:r.message}),s.dirty()):L.assertNever(r);return{status:s.value,value:e.data}}gte(e,i){return this.setLimit("min",e,!0,b.toString(i))}gt(e,i){return this.setLimit("min",e,!1,b.toString(i))}lte(e,i){return this.setLimit("max",e,!0,b.toString(i))}lt(e,i){return this.setLimit("max",e,!1,b.toString(i))}setLimit(e,i,s,r){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:s,message:b.toString(r)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:b.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:b.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:b.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:b.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:b.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:b.toString(i)})}finite(e){return this._addCheck({kind:"finite",message:b.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:b.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:b.toString(e)})}get minValue(){let e=null;for(let i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(let i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&L.isInteger(e.value))}get isFinite(){let e=null,i=null;for(let s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(i===null||s.value>i)&&(i=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(i)&&Number.isFinite(e)}};Re.create=t=>new Re({checks:[],typeName:w.ZodNumber,coerce:t?.coerce||!1,...k(t)});var Se=class t extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==m.bigint){let r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.bigint,received:r.parsedType}),_}let i,s=new F;for(let r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):L.assertNever(r);return{status:s.value,value:e.data}}gte(e,i){return this.setLimit("min",e,!0,b.toString(i))}gt(e,i){return this.setLimit("min",e,!1,b.toString(i))}lte(e,i){return this.setLimit("max",e,!0,b.toString(i))}lt(e,i){return this.setLimit("max",e,!1,b.toString(i))}setLimit(e,i,s,r){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:s,message:b.toString(r)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:b.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:b.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:b.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:b.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:b.toString(i)})}get minValue(){let e=null;for(let i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(let i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}};Se.create=t=>{var e;return new Se({checks:[],typeName:w.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};var Le=class extends T{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==m.boolean){let i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:m.boolean,received:i.parsedType}),_}return j(e.data)}};Le.create=t=>new Le({typeName:w.ZodBoolean,coerce:t?.coerce||!1,...k(t)});var Oe=class t extends T{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==m.date){let r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.date,received:r.parsedType}),_}if(isNaN(e.data.getTime())){let r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_date}),_}let i=new F,s;for(let r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:p.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),i.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:p.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),i.dirty()):L.assertNever(r);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,i){return this._addCheck({kind:"min",value:e.getTime(),message:b.toString(i)})}max(e,i){return this._addCheck({kind:"max",value:e.getTime(),message:b.toString(i)})}get minDate(){let e=null;for(let i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e!=null?new Date(e):null}};Oe.create=t=>new Oe({checks:[],coerce:t?.coerce||!1,typeName:w.ZodDate,...k(t)});var $e=class extends T{_parse(e){if(this._getType(e)!==m.symbol){let i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:m.symbol,received:i.parsedType}),_}return j(e.data)}};$e.create=t=>new $e({typeName:w.ZodSymbol,...k(t)});var Ee=class extends T{_parse(e){if(this._getType(e)!==m.undefined){let i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:m.undefined,received:i.parsedType}),_}return j(e.data)}};Ee.create=t=>new Ee({typeName:w.ZodUndefined,...k(t)});var Me=class extends T{_parse(e){if(this._getType(e)!==m.null){let i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:m.null,received:i.parsedType}),_}return j(e.data)}};Me.create=t=>new Me({typeName:w.ZodNull,...k(t)});var ye=class extends T{constructor(){super(...arguments),this._any=!0}_parse(e){return j(e.data)}};ye.create=t=>new ye({typeName:w.ZodAny,...k(t)});var le=class extends T{constructor(){super(...arguments),this._unknown=!0}_parse(e){return j(e.data)}};le.create=t=>new le({typeName:w.ZodUnknown,...k(t)});var ee=class extends T{_parse(e){let i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:m.never,received:i.parsedType}),_}};ee.create=t=>new ee({typeName:w.ZodNever,...k(t)});var Ve=class extends T{_parse(e){if(this._getType(e)!==m.undefined){let i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:m.void,received:i.parsedType}),_}return j(e.data)}};Ve.create=t=>new Ve({typeName:w.ZodVoid,...k(t)});var ce=class t extends T{_parse(e){let{ctx:i,status:s}=this._processInputParams(e),r=this._def;if(i.parsedType!==m.array)return g(i,{code:p.invalid_type,expected:m.array,received:i.parsedType}),_;if(r.exactLength!==null){let a=i.data.length>r.exactLength.value,o=i.data.length<r.exactLength.value;(a||o)&&(g(i,{code:a?p.too_big:p.too_small,minimum:o?r.exactLength.value:void 0,maximum:a?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&i.data.length<r.minLength.value&&(g(i,{code:p.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&i.data.length>r.maxLength.value&&(g(i,{code:p.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),i.common.async)return Promise.all([...i.data].map((a,o)=>r.type._parseAsync(new W(i,a,i.path,o)))).then(a=>F.mergeArray(s,a));let n=[...i.data].map((a,o)=>r.type._parseSync(new W(i,a,i.path,o)));return F.mergeArray(s,n)}get element(){return this._def.type}min(e,i){return new t({...this._def,minLength:{value:e,message:b.toString(i)}})}max(e,i){return new t({...this._def,maxLength:{value:e,message:b.toString(i)}})}length(e,i){return new t({...this._def,exactLength:{value:e,message:b.toString(i)}})}nonempty(e){return this.min(1,e)}};ce.create=(t,e)=>new ce({type:t,minLength:null,maxLength:null,exactLength:null,typeName:w.ZodArray,...k(e)});function ze(t){if(t instanceof B){let e={};for(let i in t.shape){let s=t.shape[i];e[i]=Q.create(ze(s))}return new B({...t._def,shape:()=>e})}else return t instanceof ce?new ce({...t._def,type:ze(t.element)}):t instanceof Q?Q.create(ze(t.unwrap())):t instanceof ue?ue.create(ze(t.unwrap())):t instanceof te?te.create(t.items.map(e=>ze(e))):t}var B=class t extends T{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),i=L.objectKeys(e);return this._cached={shape:e,keys:i}}_parse(e){if(this._getType(e)!==m.object){let l=this._getOrReturnCtx(e);return g(l,{code:p.invalid_type,expected:m.object,received:l.parsedType}),_}let{status:i,ctx:s}=this._processInputParams(e),{shape:r,keys:n}=this._getCached(),a=[];if(!(this._def.catchall instanceof ee&&this._def.unknownKeys==="strip"))for(let l in s.data)n.includes(l)||a.push(l);let o=[];for(let l of n){let c=r[l],h=s.data[l];o.push({key:{status:"valid",value:l},value:c._parse(new W(s,h,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof ee){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of a)o.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(l==="strict")a.length>0&&(g(s,{code:p.unrecognized_keys,keys:a}),i.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of a){let h=s.data[c];o.push({key:{status:"valid",value:c},value:l._parse(new W(s,h,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of o){let h=await c.key;l.push({key:h,value:await c.value,alwaysSet:c.alwaysSet})}return l}).then(l=>F.mergeObjectSync(i,l)):F.mergeObjectSync(i,o)}get shape(){return this._def.shape()}strict(e){return b.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(i,s)=>{var r,n,a,o;let l=(a=(n=(r=this._def).errorMap)===null||n===void 0?void 0:n.call(r,i,s).message)!==null&&a!==void 0?a:s.defaultError;return i.code==="unrecognized_keys"?{message:(o=b.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:w.ZodObject})}setKey(e,i){return this.augment({[e]:i})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let i={};return L.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(i[s]=this.shape[s])}),new t({...this._def,shape:()=>i})}omit(e){let i={};return L.objectKeys(this.shape).forEach(s=>{e[s]||(i[s]=this.shape[s])}),new t({...this._def,shape:()=>i})}deepPartial(){return ze(this)}partial(e){let i={};return L.objectKeys(this.shape).forEach(s=>{let r=this.shape[s];e&&!e[s]?i[s]=r:i[s]=r.optional()}),new t({...this._def,shape:()=>i})}required(e){let i={};return L.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])i[s]=this.shape[s];else{let r=this.shape[s];for(;r instanceof Q;)r=r._def.innerType;i[s]=r}}),new t({...this._def,shape:()=>i})}keyof(){return Pi(L.objectKeys(this.shape))}};B.create=(t,e)=>new B({shape:()=>t,unknownKeys:"strip",catchall:ee.create(),typeName:w.ZodObject,...k(e)});B.strictCreate=(t,e)=>new B({shape:()=>t,unknownKeys:"strict",catchall:ee.create(),typeName:w.ZodObject,...k(e)});B.lazycreate=(t,e)=>new B({shape:t,unknownKeys:"strip",catchall:ee.create(),typeName:w.ZodObject,...k(e)});var Ce=class extends T{_parse(e){let{ctx:i}=this._processInputParams(e),s=this._def.options;function r(n){for(let o of n)if(o.result.status==="valid")return o.result;for(let o of n)if(o.result.status==="dirty")return i.common.issues.push(...o.ctx.common.issues),o.result;let a=n.map(o=>new D(o.ctx.common.issues));return g(i,{code:p.invalid_union,unionErrors:a}),_}if(i.common.async)return Promise.all(s.map(async n=>{let a={...i,common:{...i.common,issues:[]},parent:null};return{result:await n._parseAsync({data:i.data,path:i.path,parent:a}),ctx:a}})).then(r);{let n,a=[];for(let l of s){let c={...i,common:{...i.common,issues:[]},parent:null},h=l._parseSync({data:i.data,path:i.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!n&&(n={result:h,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(n)return i.common.issues.push(...n.ctx.common.issues),n.result;let o=a.map(l=>new D(l));return g(i,{code:p.invalid_union,unionErrors:o}),_}}get options(){return this._def.options}};Ce.create=(t,e)=>new Ce({options:t,typeName:w.ZodUnion,...k(e)});var vt=t=>t instanceof Ae?vt(t.schema):t instanceof $?vt(t.innerType()):t instanceof Pe?[t.value]:t instanceof Ne?t.options:t instanceof Fe?Object.keys(t.enum):t instanceof Ze?vt(t._def.innerType):t instanceof Ee?[void 0]:t instanceof Me?[null]:null,Mt=class t extends T{_parse(e){let{ctx:i}=this._processInputParams(e);if(i.parsedType!==m.object)return g(i,{code:p.invalid_type,expected:m.object,received:i.parsedType}),_;let s=this.discriminator,r=i.data[s],n=this.optionsMap.get(r);return n?i.common.async?n._parseAsync({data:i.data,path:i.path,parent:i}):n._parseSync({data:i.data,path:i.path,parent:i}):(g(i,{code:p.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,i,s){let r=new Map;for(let n of i){let a=vt(n.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of a){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,n)}}return new t({typeName:w.ZodDiscriminatedUnion,discriminator:e,options:i,optionsMap:r,...k(s)})}};function si(t,e){let i=me(t),s=me(e);if(t===e)return{valid:!0,data:t};if(i===m.object&&s===m.object){let r=L.objectKeys(e),n=L.objectKeys(t).filter(o=>r.indexOf(o)!==-1),a={...t,...e};for(let o of n){let l=si(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(i===m.array&&s===m.array){if(t.length!==e.length)return{valid:!1};let r=[];for(let n=0;n<t.length;n++){let a=t[n],o=e[n],l=si(a,o);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return i===m.date&&s===m.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Ie=class extends T{_parse(e){let{status:i,ctx:s}=this._processInputParams(e),r=(n,a)=>{if(ti(n)||ti(a))return _;let o=si(n.value,a.value);return o.valid?((ii(n)||ii(a))&&i.dirty(),{status:i.value,value:o.data}):(g(s,{code:p.invalid_intersection_types}),_)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([n,a])=>r(n,a)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}};Ie.create=(t,e,i)=>new Ie({left:t,right:e,typeName:w.ZodIntersection,...k(i)});var te=class t extends T{_parse(e){let{status:i,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.array)return g(s,{code:p.invalid_type,expected:m.array,received:s.parsedType}),_;if(s.data.length<this._def.items.length)return g(s,{code:p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;!this._def.rest&&s.data.length>this._def.items.length&&(g(s,{code:p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());let r=[...s.data].map((n,a)=>{let o=this._def.items[a]||this._def.rest;return o?o._parse(new W(s,n,s.path,a)):null}).filter(n=>!!n);return s.common.async?Promise.all(r).then(n=>F.mergeArray(i,n)):F.mergeArray(i,r)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};te.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new te({items:t,typeName:w.ZodTuple,rest:null,...k(e)})};var Ct=class t extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:i,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.object)return g(s,{code:p.invalid_type,expected:m.object,received:s.parsedType}),_;let r=[],n=this._def.keyType,a=this._def.valueType;for(let o in s.data)r.push({key:n._parse(new W(s,o,s.path,o)),value:a._parse(new W(s,s.data[o],s.path,o))});return s.common.async?F.mergeObjectAsync(i,r):F.mergeObjectSync(i,r)}get element(){return this._def.valueType}static create(e,i,s){return i instanceof T?new t({keyType:e,valueType:i,typeName:w.ZodRecord,...k(s)}):new t({keyType:ge.create(),valueType:e,typeName:w.ZodRecord,...k(i)})}},qe=class extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:i,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.map)return g(s,{code:p.invalid_type,expected:m.map,received:s.parsedType}),_;let r=this._def.keyType,n=this._def.valueType,a=[...s.data.entries()].map(([o,l],c)=>({key:r._parse(new W(s,o,s.path,[c,"key"])),value:n._parse(new W(s,l,s.path,[c,"value"]))}));if(s.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of a){let c=await l.key,h=await l.value;if(c.status==="aborted"||h.status==="aborted")return _;(c.status==="dirty"||h.status==="dirty")&&i.dirty(),o.set(c.value,h.value)}return{status:i.value,value:o}})}else{let o=new Map;for(let l of a){let c=l.key,h=l.value;if(c.status==="aborted"||h.status==="aborted")return _;(c.status==="dirty"||h.status==="dirty")&&i.dirty(),o.set(c.value,h.value)}return{status:i.value,value:o}}}};qe.create=(t,e,i)=>new qe({valueType:e,keyType:t,typeName:w.ZodMap,...k(i)});var We=class t extends T{_parse(e){let{status:i,ctx:s}=this._processInputParams(e);if(s.parsedType!==m.set)return g(s,{code:p.invalid_type,expected:m.set,received:s.parsedType}),_;let r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(g(s,{code:p.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),i.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(g(s,{code:p.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),i.dirty());let n=this._def.valueType;function a(l){let c=new Set;for(let h of l){if(h.status==="aborted")return _;h.status==="dirty"&&i.dirty(),c.add(h.value)}return{status:i.value,value:c}}let o=[...s.data.values()].map((l,c)=>n._parse(new W(s,l,s.path,c)));return s.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,i){return new t({...this._def,minSize:{value:e,message:b.toString(i)}})}max(e,i){return new t({...this._def,maxSize:{value:e,message:b.toString(i)}})}size(e,i){return this.min(e,i).max(e,i)}nonempty(e){return this.min(1,e)}};We.create=(t,e)=>new We({valueType:t,minSize:null,maxSize:null,typeName:w.ZodSet,...k(e)});var It=class t extends T{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:i}=this._processInputParams(e);if(i.parsedType!==m.function)return g(i,{code:p.invalid_type,expected:m.function,received:i.parsedType}),_;function s(o,l){return Ot({data:o,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,Lt(),lt].filter(c=>!!c),issueData:{code:p.invalid_arguments,argumentsError:l}})}function r(o,l){return Ot({data:o,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,Lt(),lt].filter(c=>!!c),issueData:{code:p.invalid_return_type,returnTypeError:l}})}let n={errorMap:i.common.contextualErrorMap},a=i.data;if(this._def.returns instanceof ve){let o=this;return j(async function(...l){let c=new D([]),h=await o._def.args.parseAsync(l,n).catch(S=>{throw c.addIssue(s(l,S)),c}),y=await Reflect.apply(a,this,h);return await o._def.returns._def.type.parseAsync(y,n).catch(S=>{throw c.addIssue(r(y,S)),c})})}else{let o=this;return j(function(...l){let c=o._def.args.safeParse(l,n);if(!c.success)throw new D([s(l,c.error)]);let h=Reflect.apply(a,this,c.data),y=o._def.returns.safeParse(h,n);if(!y.success)throw new D([r(h,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:te.create(e).rest(le.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,i,s){return new t({args:e||te.create([]).rest(le.create()),returns:i||le.create(),typeName:w.ZodFunction,...k(s)})}},Ae=class extends T{get schema(){return this._def.getter()}_parse(e){let{ctx:i}=this._processInputParams(e);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}};Ae.create=(t,e)=>new Ae({getter:t,typeName:w.ZodLazy,...k(e)});var Pe=class extends T{_parse(e){if(e.data!==this._def.value){let i=this._getOrReturnCtx(e);return g(i,{received:i.data,code:p.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:e.data}}get value(){return this._def.value}};Pe.create=(t,e)=>new Pe({value:t,typeName:w.ZodLiteral,...k(e)});function Pi(t,e){return new Ne({values:t,typeName:w.ZodEnum,...k(e)})}var Ne=class t extends T{_parse(e){if(typeof e.data!="string"){let i=this._getOrReturnCtx(e),s=this._def.values;return g(i,{expected:L.joinValues(s),received:i.parsedType,code:p.invalid_type}),_}if(this._def.values.indexOf(e.data)===-1){let i=this._getOrReturnCtx(e),s=this._def.values;return g(i,{received:i.data,code:p.invalid_enum_value,options:s}),_}return j(e.data)}get options(){return this._def.values}get enum(){let e={};for(let i of this._def.values)e[i]=i;return e}get Values(){let e={};for(let i of this._def.values)e[i]=i;return e}get Enum(){let e={};for(let i of this._def.values)e[i]=i;return e}extract(e){return t.create(e)}exclude(e){return t.create(this.options.filter(i=>!e.includes(i)))}};Ne.create=Pi;var Fe=class extends T{_parse(e){let i=L.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==m.string&&s.parsedType!==m.number){let r=L.objectValues(i);return g(s,{expected:L.joinValues(r),received:s.parsedType,code:p.invalid_type}),_}if(i.indexOf(e.data)===-1){let r=L.objectValues(i);return g(s,{received:s.data,code:p.invalid_enum_value,options:r}),_}return j(e.data)}get enum(){return this._def.values}};Fe.create=(t,e)=>new Fe({values:t,typeName:w.ZodNativeEnum,...k(e)});var ve=class extends T{unwrap(){return this._def.type}_parse(e){let{ctx:i}=this._processInputParams(e);if(i.parsedType!==m.promise&&i.common.async===!1)return g(i,{code:p.invalid_type,expected:m.promise,received:i.parsedType}),_;let s=i.parsedType===m.promise?i.data:Promise.resolve(i.data);return j(s.then(r=>this._def.type.parseAsync(r,{path:i.path,errorMap:i.common.contextualErrorMap})))}};ve.create=(t,e)=>new ve({type:t,typeName:w.ZodPromise,...k(e)});var $=class extends T{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===w.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:i,ctx:s}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:a=>{g(s,a),a.fatal?i.abort():i.dirty()},get path(){return s.path}};if(n.addIssue=n.addIssue.bind(n),r.type==="preprocess"){let a=r.transform(s.data,n);return s.common.issues.length?{status:"dirty",value:s.data}:s.common.async?Promise.resolve(a).then(o=>this._def.schema._parseAsync({data:o,path:s.path,parent:s})):this._def.schema._parseSync({data:a,path:s.path,parent:s})}if(r.type==="refinement"){let a=o=>{let l=r.refinement(o,n);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){let o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?_:(o.status==="dirty"&&i.dirty(),a(o.value),{status:i.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?_:(o.status==="dirty"&&i.dirty(),a(o.value).then(()=>({status:i.value,value:o.value}))))}if(r.type==="transform")if(s.common.async===!1){let a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ct(a))return a;let o=r.transform(a.value,n);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>ct(a)?Promise.resolve(r.transform(a.value,n)).then(o=>({status:i.value,value:o})):a);L.assertNever(r)}};$.create=(t,e,i)=>new $({schema:t,typeName:w.ZodEffects,effect:e,...k(i)});$.createWithPreprocess=(t,e,i)=>new $({schema:e,effect:{type:"preprocess",transform:t},typeName:w.ZodEffects,...k(i)});var Q=class extends T{_parse(e){return this._getType(e)===m.undefined?j(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Q.create=(t,e)=>new Q({innerType:t,typeName:w.ZodOptional,...k(e)});var ue=class extends T{_parse(e){return this._getType(e)===m.null?j(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ue.create=(t,e)=>new ue({innerType:t,typeName:w.ZodNullable,...k(e)});var Ze=class extends T{_parse(e){let{ctx:i}=this._processInputParams(e),s=i.data;return i.parsedType===m.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:i.path,parent:i})}removeDefault(){return this._def.innerType}};Ze.create=(t,e)=>new Ze({innerType:t,typeName:w.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...k(e)});var Ge=class extends T{_parse(e){let{ctx:i}=this._processInputParams(e),s={...i,common:{...i.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Et(r)?r.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new D(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new D(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}};Ge.create=(t,e)=>new Ge({innerType:t,typeName:w.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...k(e)});var Ye=class extends T{_parse(e){if(this._getType(e)!==m.nan){let i=this._getOrReturnCtx(e);return g(i,{code:p.invalid_type,expected:m.nan,received:i.parsedType}),_}return{status:"valid",value:e.data}}};Ye.create=t=>new Ye({typeName:w.ZodNaN,...k(t)});var As=Symbol("zod_brand"),At=class extends T{_parse(e){let{ctx:i}=this._processInputParams(e),s=i.data;return this._def.type._parse({data:s,path:i.path,parent:i})}unwrap(){return this._def.type}},ut=class t extends T{_parse(e){let{status:i,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{let r=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?_:r.status==="dirty"?(i.dirty(),Ai(r.value)):this._def.out._parseAsync({data:r.value,path:s.path,parent:s})})();{let r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?_:r.status==="dirty"?(i.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,i){return new t({in:e,out:i,typeName:w.ZodPipeline})}},Ke=class extends T{_parse(e){let i=this._def.innerType._parse(e);return ct(i)&&(i.value=Object.freeze(i.value)),i}};Ke.create=(t,e)=>new Ke({innerType:t,typeName:w.ZodReadonly,...k(e)});var Ni=(t,e={},i)=>t?ye.create().superRefine((s,r)=>{var n,a;if(!t(s)){let o=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,l=(a=(n=o.fatal)!==null&&n!==void 0?n:i)!==null&&a!==void 0?a:!0,c=typeof o=="string"?{message:o}:o;r.addIssue({code:"custom",...c,fatal:l})}}):ye.create(),Ps={object:B.lazycreate},w;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(w||(w={}));var Ns=(t,e={message:`Input not instance of ${t.name}`})=>Ni(i=>i instanceof t,e),Fi=ge.create,Zi=Re.create,Fs=Ye.create,Zs=Se.create,ji=Le.create,js=Oe.create,zs=$e.create,Bs=Ee.create,Us=Me.create,Ds=ye.create,$s=le.create,Vs=ee.create,qs=Ve.create,Ws=ce.create,Gs=B.create,Ys=B.strictCreate,Ks=Ce.create,Xs=Mt.create,Hs=Ie.create,Js=te.create,Qs=Ct.create,er=qe.create,tr=We.create,ir=It.create,sr=Ae.create,rr=Pe.create,nr=Ne.create,ar=Fe.create,or=ve.create,wi=$.create,lr=Q.create,cr=ue.create,ur=$.createWithPreprocess,dr=ut.create,hr=()=>Fi().optional(),pr=()=>Zi().optional(),fr=()=>ji().optional(),mr={string:t=>ge.create({...t,coerce:!0}),number:t=>Re.create({...t,coerce:!0}),boolean:t=>Le.create({...t,coerce:!0}),bigint:t=>Se.create({...t,coerce:!0}),date:t=>Oe.create({...t,coerce:!0})},gr=_,v=Object.freeze({__proto__:null,defaultErrorMap:lt,setErrorMap:ws,getErrorMap:Lt,makeIssue:Ot,EMPTY_PATH:xs,addIssueToContext:g,ParseStatus:F,INVALID:_,DIRTY:Ai,OK:j,isAborted:ti,isDirty:ii,isValid:ct,isAsync:Et,get util(){return L},get objectUtil(){return ei},ZodParsedType:m,getParsedType:me,ZodType:T,ZodString:ge,ZodNumber:Re,ZodBigInt:Se,ZodBoolean:Le,ZodDate:Oe,ZodSymbol:$e,ZodUndefined:Ee,ZodNull:Me,ZodAny:ye,ZodUnknown:le,ZodNever:ee,ZodVoid:Ve,ZodArray:ce,ZodObject:B,ZodUnion:Ce,ZodDiscriminatedUnion:Mt,ZodIntersection:Ie,ZodTuple:te,ZodRecord:Ct,ZodMap:qe,ZodSet:We,ZodFunction:It,ZodLazy:Ae,ZodLiteral:Pe,ZodEnum:Ne,ZodNativeEnum:Fe,ZodPromise:ve,ZodEffects:$,ZodTransformer:$,ZodOptional:Q,ZodNullable:ue,ZodDefault:Ze,ZodCatch:Ge,ZodNaN:Ye,BRAND:As,ZodBranded:At,ZodPipeline:ut,ZodReadonly:Ke,custom:Ni,Schema:T,ZodSchema:T,late:Ps,get ZodFirstPartyTypeKind(){return w},coerce:mr,any:Ds,array:Ws,bigint:Zs,boolean:ji,date:js,discriminatedUnion:Xs,effect:wi,enum:nr,function:ir,instanceof:Ns,intersection:Hs,lazy:sr,literal:rr,map:er,nan:Fs,nativeEnum:ar,never:Vs,null:Us,nullable:cr,number:Zi,object:Gs,oboolean:fr,onumber:pr,optional:lr,ostring:hr,pipeline:dr,preprocess:ur,promise:or,record:Qs,set:tr,strictObject:Ys,string:Fi,symbol:zs,transformer:wi,tuple:Js,undefined:Bs,union:Ks,unknown:$s,void:qs,NEVER:gr,ZodIssueCode:p,quotelessJson:bs,ZodError:D}),fe,ae,bt,it,wt,xt,Gt,_t,ri,ni,zi,nt,Pt,xe=class O{constructor(e,i){N(this,it),N(this,xt),N(this,_t),N(this,ni),N(this,nt),N(this,fe,void 0),N(this,ae,void 0),N(this,bt,void 0),this.reset(e,i)}reset(e,i){typeof e=="string"?Z(this,fe,V(this,ni,zi).call(this,e)):typeof e=="number"?Z(this,fe,V(this,nt,Pt).call(this,e)):Z(this,fe,x(this,fe)??V(this,nt,Pt).call(this,O.MIN+Math.floor((O.MAX-O.MIN)*Math.random()))),Z(this,ae,i??x(this,fe)),Z(this,bt,yr(this))}toJSON(){return{__serializedName:O.serializedName,seed:x(this,fe),value:x(this,ae)}}static fromJSON(e){return new O(e.seed,e.value)}number(e=0,i=1){return V(this,it,wt).call(this),V(this,_t,ri).call(this,x(this,ae),O.MIN,O.MAX,e,i)}int(e=10,i=100){return V(this,it,wt).call(this),Math.floor(V(this,_t,ri).call(this,x(this,ae),O.MIN,O.MAX,e,i+1))}bool(){return V(this,it,wt).call(this),x(this,ae)>.5}identifier(e=21){return x(this,bt).call(this,e)}coinFlip(){return this.bool()}diceRoll(e=6){return this.int(0,e-1)}yahtzee(e=5){let i=-1;for(let s=0;s<e;s++){let r=this.diceRoll();if(i!=-1&&i!=r)return!1;i=r}return!0}pickOne(e){return e[this.int(0,e.length-1)]}shuffle(e){for(let i=e.length-1;i>0;i--){let s=this.int(0,i),r=e[s];e[s]=e[i],e[i]=r}return e}animal(){return this.pickOne(vs)+"_"+this.pickOne(ys)}static serialize(){return JSON.stringify(O.singleton)}static deserialize(e){O.singleton=O.fromJSON(v.object({seed:v.number(),value:v.number()}).parse(JSON.parse(e)))}static setSeed(e,i){O.singleton.reset(e,i)}static number(e=0,i=1){return O.singleton.number(e,i)}static int(e=10,i=100){return O.singleton.int(e,i)}static bool(){return O.singleton.bool()}static identifier(e){return O.singleton.identifier(e)}static coinFlip(){return O.singleton.coinFlip()}static diceRoll(e=6){return O.singleton.diceRoll(e)}static yahtzee(e=5){return O.singleton.yahtzee(e)}static pickOne(e){return O.singleton.pickOne(e)}static shuffle(e){return O.singleton.shuffle(e)}static animal(){return O.singleton.animal()}};fe=new WeakMap,ae=new WeakMap,bt=new WeakMap,it=new WeakSet,wt=function(){Z(this,ae,V(this,xt,Gt).call(this,x(this,ae)))},xt=new WeakSet,Gt=function(t){return t^=t<<13,t^=t>>17,t^=t<<5,t},_t=new WeakSet,ri=function(t,e,i,s,r){return(t-e)/(i-e)*(r-s)+s},ni=new WeakSet,zi=function(t){let e=0;if(t){let i=t.length;for(let s=0;s<i;s++)e=(e<<5)-e+t.charCodeAt(s),e|=0,e=V(this,xt,Gt).call(this,e)}return V(this,nt,Pt).call(this,e)},nt=new WeakSet,Pt=function(t){return t===0?1:t},f(xe,"serializedName","Random"),f(xe,"MIN",-2147483648),f(xe,"MAX",2147483647),f(xe,"sdk",new xe),f(xe,"singleton",new xe);function yr(t){return Hi(Xi,21,e=>new Uint8Array(e).map(()=>256*t.number()))}(!globalThis.EventTarget||!globalThis.Event)&&console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var xi,cn=typeof process<"u"&&typeof((xi=process.versions)==null?void 0:xi.node)<"u"&&typeof document>"u";var un={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1};var jt=v.object({sdp:v.string().optional(),type:v.enum(["answer","offer","pranswer","rollback"])}),vr=v.object({kind:v.literal("offer"),offer:jt,targetId:v.string()}),br=v.object({kind:v.literal("answer"),answer:jt,targetId:v.string()}),Bi=v.object({candidate:v.string().optional(),sdpMLineIndex:v.number().nullish(),sdpMid:v.string().nullish(),usernameFragment:v.string().nullish()}),wr=v.object({kind:v.literal("icecandidate"),candidate:Bi,targetId:v.string()}),xr=v.object({kind:v.literal("text"),text:v.string().min(1)}),_r=v.object({kind:v.literal("exchange-ice"),targetId:v.string()}),kr=v.object({kind:v.literal("offer"),offer:jt,originId:v.string()}),Tr=v.object({kind:v.literal("answer"),answer:jt,originId:v.string()}),Rr=v.object({kind:v.literal("icecandidate"),candidate:Bi,originId:v.string()}),Sr=v.object({kind:v.literal("text"),text:v.string(),clientId:v.string()}),Lr=v.object({kind:v.literal("player-connect"),connectedId:v.string(),players:v.array(v.string())}),Or=v.object({kind:v.literal("player-disconnect"),disconnectedId:v.string(),players:v.array(v.string())}),dn=v.object({kind:v.literal("void:rpc:call"),signalName:v.string().min(1),args:v.array(v.unknown())}),hn=v.discriminatedUnion("kind",[kr,Tr,Rr,Sr,Lr,Or]);v.discriminatedUnion("kind",[vr,br,wr,xr,_r]);var Er=q.BLACK;console.vis=()=>{throw new Error("Not in game update or paint code")};function K(t,e,i){return{color:{operation:t,srcFactor:e,dstFactor:i},alpha:{operation:t,srcFactor:e,dstFactor:i}}}var zt="premultipliedBlendSourceOver",Mr=[zt,"copy","unPremultipliedBlend","additiveLighten","destinationOver","destinationIn","destinationOut","destinationAtop","sourceIn","sourceOut","sourceAtop"],re={copy:K("add","one","zero"),premultipliedBlendSourceOver:K("add","one","one-minus-src-alpha"),unPremultipliedBlend:K("add","src-alpha","one-minus-src-alpha"),destinationOver:K("add","one-minus-dst-alpha","one"),sourceIn:K("add","dst-alpha","zero"),destinationIn:K("add","zero","src-alpha"),sourceOut:K("add","one-minus-dst-alpha","zero"),destinationOut:K("add","zero","one-minus-src-alpha"),sourceAtop:K("add","dst-alpha","one-minus-src-alpha"),destinationAtop:K("add","one-minus-dst-alpha","src-alpha"),additiveLighten:K("add","one","one")};function _e(t={}){return{shader:t.shader,blend:t.blend??zt}}var ne=class{constructor(){f(this,"_dataView",new DataView(new ArrayBuffer(100*4))),f(this,"_byteOffset",0),f(this,"_floatAlignment",1);let e=new Uint32Array([287454020]);if(new Uint8Array(e.buffer)[0]!==68)throw new Error("System is not little endian. This is not supported.")}addf32(e){this._dataView.setFloat32(this._byteOffset,e,!0),this._byteOffset+=4,this._floatAlignment=Math.max(this._floatAlignment,1)}addvec2f(e,i){this._byteOffset%16>8&&(this._byteOffset+=16-this._byteOffset%16),this.addf32(e),this.addf32(i),this._floatAlignment=Math.max(this._floatAlignment,2)}addvec3f(e,i,s){this._byteOffset%16>4&&(this._byteOffset+=16-this._byteOffset%16),this.addf32(e),this.addf32(i),this.addf32(s),this._floatAlignment=Math.max(this._floatAlignment,4)}addvec4f(e,i,s,r){this._byteOffset%16>4&&(this._byteOffset+=16-this._byteOffset%16),this.addf32(e),this.addf32(i),this.addf32(s),this.addf32(r),this._floatAlignment=Math.max(this._floatAlignment,4)}addmat3x3f(e){this._byteOffset%16!==0&&(this._byteOffset+=16-this._byteOffset%16),new Float32Array(this._dataView.buffer,this._byteOffset,12).set(e),this._byteOffset+=4*12,this._floatAlignment=Math.max(this._floatAlignment,4)}get buffer(){return new Float32Array(this._dataView.buffer,0,this.paddedOffset)}get offset(){return this._byteOffset/4}get paddedOffset(){return this.offset%this._floatAlignment===0?this.offset:this.offset+(this._floatAlignment-this.offset%this._floatAlignment)}},_i=t=>{if(typeof t=="object"&&t!==null){if(typeof Object.getPrototypeOf=="function"){let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}return Object.prototype.toString.call(t)==="[object Object]"}return!1},oe=(...t)=>t.reduce((e,i)=>{if(Array.isArray(i))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(i).forEach(s=>{["__proto__","constructor","prototype"].includes(s)||(Array.isArray(e[s])&&Array.isArray(i[s])?e[s]=oe.options.mergeArrays?oe.options.uniqueArrayItems?Array.from(new Set(e[s].concat(i[s]))):[...e[s],...i[s]]:i[s]:_i(e[s])&&_i(i[s])?e[s]=oe(e[s],i[s]):e[s]=i[s]===void 0?oe.options.allowUndefinedOverrides?i[s]:e[s]:i[s])}),e},{}),ai={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};oe.options=ai;oe.withOptions=(t,...e)=>{oe.options=Object.assign(Object.assign({},ai),t);let i=oe(...e);return oe.options=ai,i};var pn={linear:t=>t,easeIn:t=>t*t,easeOut:t=>t*(2-t),easeInOut:t=>t<.5?2*t*t:-1+(4-2*t)*t,ease:Yt([{x:.25,y:.1},{x:.25,y:1}]),quadIn:Yt([{x:.55,y:.085},{x:.68,y:.53}]),quadOut:Yt([{x:.25,y:.46},{x:.45,y:.94}])};function Yt([{x:t,y:e},{x:i,y:s}]){if(!(t>=0&&t<=1&&i>=0&&i<=1))throw new Error(`CubicBezier x1 & x2 values must be { 0 < x < 1 }, got { x1 : ${t}, x2: ${i} }`);let r=1-(i=3*(i-t)-(t*=3))-t,n=1-(s=3*(s-e)-(e*=3))-e,a=0,o=0,l=0,c=0,h=0;return y=>{for(o=y,a=0;32>a;a++){if(1e-5>Math.abs(h=o*(o*(o*r+i)+t)-y))return o*(o*(o*n+s)+e);if(1e-5>Math.abs(c=o*(o*r*3+i*2)+t))break;o-=h/c}if((l=0)>(o=y))return 0;if((c=1)<o)return 1;for(;c>l&&!(1e-5>Math.abs((h=o*(o*(o*r+i)+t))-y));)y>h?l=o:c=o,o=.5*(c-l)+l;return o*(o*(o*n+s)+e)}}var Cr=`struct VertexOutput {
  @builtin(position) pos: vec4f,
  @location(0) texcoord: vec2f
};

struct Uniforms {
  matrix: mat3x3f,
  color: vec4f
}

struct ColorMap {
  fromColor: vec4f,
  toColor: vec4f
}

@group(0) @binding(0) var<uniform> uni: Uniforms;

@group(1) @binding(0) var samp: sampler;
@group(1) @binding(1) var tex: texture_2d<f32>;
@group(1) @binding(2) var<storage, read> colorMapArray: array<ColorMap>;

@vertex fn vs( @location(0) pos: vec2f, @builtin(vertex_index) vertexIndex : u32 ) -> VertexOutput {
  // map the vertices of the quad to texture uv coordinates
  let texpos = array(
    vec2f( 0., 0. ),
    vec2f( 1., 0. ),
    vec2f( 1., 1. ),

    vec2f( 0., 0. ),
    vec2f( 1., 1. ),
    vec2f( 0., 1. ),
  );

  var output: VertexOutput;
  output.pos = vec4f(uni.matrix * vec3f(pos, 1),1);
  output.texcoord = texpos[vertexIndex];
  return output;
}

const THRESHOLD = vec4f(.001);

@fragment fn fs(input: VertexOutput) -> @location(0) vec4f {
  let colorMapCount = arrayLength(&colorMapArray);
  var rgba = textureSample(tex, samp, input.texcoord);

  for (var i = 0u; i < colorMapCount; i++) {
    let color = colorMapArray[i].fromColor;
    if all(abs(rgba - color) <= THRESHOLD)  {
      rgba = colorMapArray[i].toColor;
    }
  }

  if rgba[3] == 0 || uni.color[3] == 0 { discard; }
  let tint = vec4f(uni.color.rgb * uni.color.a, uni.color.a);
  return rgba * tint;
}`,Ir=`struct VertexOutput {
  @builtin(position) pos: vec4f,
};

struct Uniforms {
  matrix: mat3x3f,
  color: vec4f,
}

@group(0) @binding(0) var<uniform> uni: Uniforms;

@vertex fn vs( @location(0) pos: vec2f, @builtin(vertex_index) vertexIndex : u32 ) -> VertexOutput {
  var output: VertexOutput;
  output.pos = vec4f(uni.matrix * vec3f(pos, 1), 1);
  return output;
}

@fragment fn fs(input: VertexOutput) -> @location(0) vec4f {
  let a = uni.color[3];
  return vec4f(uni.color[0] * a, uni.color[1] * a,uni.color[2] * a, a);
}
`,Ar=`struct VertexOutput {
  @builtin(position) pos: vec4f,
};

struct Uniforms {
  transform: mat3x3f,
  view: mat3x3f,
  projection: mat3x3f,
  color: vec3f,
}

@group(0) @binding(0) var<uniform> uni: Uniforms;

@vertex fn vs(
  @location(0) pos: vec2f,
  @builtin(vertex_index) vertexIndex : u32
) -> VertexOutput {
  var combined: vec3f = uni.projection * uni.view * uni.transform * vec3f(pos, 1);
  var output: VertexOutput;
  output.pos = vec4f(combined, 1);
  return output;
}

@fragment fn fs(input: VertexOutput) -> @location(0) vec4f {
  return vec4f(uni.color, 1);
}`,Pr=`struct VertexOutput {
  @builtin(position) pos: vec4f,
  @location(0) texcoord: vec2f
};

struct Uniforms {
  matrix: mat3x3f,
  color: vec4f,
  uvs: vec4f
}

struct ColorMap {
  fromColor: vec4f,
  toColor: vec4f
}

@group(0) @binding(0) var<uniform> uni: Uniforms;

@group(1) @binding(0) var samp: sampler;
@group(1) @binding(1) var tex: texture_2d<f32>;
@group(1) @binding(2) var<storage, read> colorMapArray: array<ColorMap>;

@vertex fn vs( @location(0) pos: vec2f, @builtin(vertex_index) vertexIndex : u32 ) -> VertexOutput {
  let x0 = uni.uvs[0];
  let y0 = uni.uvs[1];
  let x1 = uni.uvs[2];
  let y1 = uni.uvs[3];

  // map the vertices of the quad to texture uv coordinates
  // these must match the order of the vertices, with y flipped
  let texpos = array(
    vec2f( x0, y0 ),
    vec2f( x1, y0 ),
    vec2f( x1, y1 ),

    vec2f( x0, y0 ),
    vec2f( x1, y1 ),
    vec2f( x0, y1 ),
  );

  var output: VertexOutput;
  output.pos = vec4f(uni.matrix * vec3f(pos, 1), 1);
  output.texcoord = texpos[vertexIndex];
  return output;
}

const THRESHOLD = vec4f(.001);

@fragment fn fs(input: VertexOutput) -> @location(0) vec4f {
  let colorMapCount = arrayLength(&colorMapArray);
  var rgba = textureSample(tex, samp, input.texcoord);

  for (var i = 0u; i < colorMapCount; i++) {
    let color = colorMapArray[i].fromColor;
    if all(abs(rgba - color) <= THRESHOLD)  {
      rgba = colorMapArray[i].toColor;
    }
  }

  if rgba[3] == 0 || uni.color[3] == 0 { discard; }
  let tint = vec4f(uni.color.rgb * uni.color.a, uni.color.a);
  return rgba * tint;
}`,oi=class{constructor(e){f(this,"to"),f(this,"from"),f(this,"color"),f(this,"thickness"),f(this,"material"),this.to=e.to,this.from=e.from,this.color=e.color??q.MAGENTA,this.thickness=e.thickness??3,this.material=e.material}getThickLinePoints(){let{to:e,from:i,thickness:s}=this,r=s/2,n=Math.atan2(e.y-i.y,e.x-i.x),a=r*Math.sin(n),o=-r*Math.cos(n);return[{x:i.x+a,y:i.y+o},{x:e.x+a,y:e.y+o},{x:e.x-a,y:e.y-o},{x:i.x-a,y:i.y-o}]}};function Nr(t){let e=[],i=-1/0,s=-1/0,r=1/0,n=1/0;for(let l=1;l<t.length-1;l++)e.push(t[0],t[l],t[l+1]),r=Math.min(r,t[l].x,t[l+1].x),n=Math.min(n,t[l].y,t[l+1].y),i=Math.max(i,t[l].x,t[l+1].x),s=Math.max(s,t[l].y,t[l+1].y);let a=s-n,o=i-r;return{vertices:e,height:a,width:o,minX:r,minY:n,maxX:i,maxY:s}}function Fr({radius:t=1,subdivisions:e=24,innerRadius:i=0,startAngle:s=0,endAngle:r=Math.PI*2}={}){let n=e*3*2,a=new Float32Array(e*2*3*2),o=0,l=(c,h)=>{a[o++]=c,a[o++]=h};for(let c=0;c<e;++c){let h=s+(c+0)*(r-s)/e,y=s+(c+1)*(r-s)/e,S=Math.cos(h),M=Math.sin(h),E=Math.cos(y),z=Math.sin(y);l(S*t,M*t),l(E*t,z*t),l(S*i,M*i),l(S*i,M*i),l(E*t,z*t),l(E*i,z*i)}return{vertices:a,verticesCount:n}}var H,J,kt,I,Tt,Rt,li,Ui,ci=class{constructor(e,i,s,r,n){N(this,li),f(this,"device"),f(this,"context"),f(this,"canvas"),f(this,"pipelines"),f(this,"resolveTextureURL"),f(this,"textureCache",{}),f(this,"encoder"),f(this,"renderPass"),N(this,H,[]),N(this,J,{x:0,y:0,zoom:1,rotation:0,pivot:d(.5)}),N(this,kt,Er),N(this,I,void 0),N(this,Tt,"linear"),N(this,Rt,"linear"),this.device=e,e.lost.then(a=>{console.error(`WebGPU device was lost: ${a.message}`),console.warn(a.__brand,a.message,a.reason)}),this.context=i,this.canvas=s,Z(this,I,{width:r.width,height:r.height}),this.canvas.width=x(this,I).width,this.canvas.height=x(this,I).height,this.resolveTextureURL=n,this.pipelines={};for(let a of Mr){let o=re[a];this.pipelines[a]={triangle:X(e,Ar,{label:`Triangle-${a}`,blend:o}),rect:X(e,Ir,{label:`Rect-${a}`,blend:o}),texture:X(e,Cr,{label:`Texture-${a}`,blend:o}),sprite:X(e,Pr,{label:`Sprite-${a}`,blend:o})}}}get minFilter(){return x(this,Tt)}set minFilter(e){Z(this,Tt,e)}get magFilter(){return x(this,Rt)}set magFilter(e){Z(this,Rt,e)}resize(e){Z(this,I,{width:e.width,height:e.height}),this.canvas.width=x(this,I).width,this.canvas.height=x(this,I).height}line(e,i){C(this.renderPass,"Call startFrame before lines");let s={height:x(this,I).height,width:x(this,I).width,pivot:e.pivot??d(0),rotation:e.rotation??0,scale:e.scale??d(1),skew:e.skew??d(0),x:e.x??0,y:e.y??0,z:e.z??0,material:e.material??_e()},r=new oi(e),n=ke(x(this,I),e.camera??x(this,J),s,i),a=new ne;a.addmat3x3f(n),a.addvec4f(...r.color);let o=s.material.shader==null?this.pipelines[s.material.blend].rect:X(this.device,s.material.shader,{label:"CustomLine",blend:re[s.material.blend]}),l=r.getThickLinePoints(),c=new Float32Array([l[0].x,l[0].y,l[1].x,l[1].y,l[2].x,l[2].y,l[2].x,l[2].y,l[3].x,l[3].y,l[0].x,l[0].y]);x(this,H).push({pipeline:o,uniformBuffer:a.buffer,vertices:c,verticesCount:6,zIndex:s.z})}polygon(e,i){C(this.renderPass,"Call startFrame before polygon");let s={points:e.points,color:e.color??q.MAGENTA,material:e.material??_e(),pivot:e.pivot??d(.5),rotation:e.rotation??0,scale:e.scale??d(1),skew:e.skew??d(0),x:e.x??0,y:e.y??0,z:e.z??0,camera:e.camera??x(this,J)},{vertices:r,height:n,width:a}=Nr(s.points),o=s.material.shader==null?this.pipelines[s.material.blend].rect:X(this.device,s.material.shader,{label:"CustomPolygon",blend:re[s.material.blend]}),l=ke(x(this,I),s.camera,{...s,height:n,width:a},i),c=new ne;c.addmat3x3f(l),c.addvec4f(...s.color),x(this,H).push({pipeline:o,uniformBuffer:c.buffer,vertices:new Float32Array(r.flatMap(h=>[h.x,h.y])),verticesCount:r.length,zIndex:s.z??0})}startFrame(){this.encoder=this.device.createCommandEncoder(),this.renderPass=this.encoder.beginRenderPass({colorAttachments:[{view:this.context.getCurrentTexture().createView(),loadOp:"clear",clearValue:this.clearColor,storeOp:"store"}]})}endFrame(){if(!this.renderPass||!this.encoder)throw new Error("beginFrame must be called before endFrame");x(this,H).sort((e,i)=>e.zIndex-i.zIndex).forEach(V(this,li,Ui).bind(this)),this.renderPass.end(),this.device.queue.submit([this.encoder.finish()]),Z(this,H,[])}async preloadTextures(e){let i={};return await Promise.all(e.map(s=>this.loadTexture(this.resolveTextureURL(s)).then(r=>{i[s]={width:r.width,height:r.height,path:s}}))),i}vertices(e,i){C(this.renderPass,"Call startPass first");let s=this.device.createBuffer({label:"Vertex buffer",size:i.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});this.device.queue.writeBuffer(s,0,i),this.renderPass.setVertexBuffer(0,s),this.renderPass.draw(e)}gob(e){if(e.isVisible){!e.width&&e.kids.length===0&&Nt(`gob-width-${e.id}`,`Gob ${e.label||e.id} has no width and no kids. It won't be drawn.`),e.texturePath?e.spriteFrame?this.sprite(e.texturePath,{...e,z:e.z,frame:e.spriteFrame},e.transformMatrix):this.texture(e.texturePath,e,e.transformMatrix):e.text?this.text(e.text,{...e,z:e.z,...e.textOpts},e.transformMatrix):this.rect(e,e.transformMatrix);for(let i of e.kids)this.gob(i)}}rect(e,i){C(this.renderPass,"Call startFrame before rect");let s={color:q.MAGENTA,x:0,y:0,z:0,scale:d(1),skew:d(0),rotation:0,width:100,height:100,pivot:d(.5),material:_e()},{color:r,width:n,height:a,material:o,...l}={...s,...gt({...e,z:e?.z})},c=ke(x(this,I),e?.camera??x(this,J),{...l,height:a,width:n},i),h=new ne;h.addmat3x3f(c),h.addvec4f(...r);let y=o.shader==null?this.pipelines[o.blend].rect:X(this.device,o.shader,{label:"CustomRect",blend:re[o.blend]}),S=l.z??0,M=new Float32Array([0,0,n,0,n,a,0,0,n,a,0,a]);x(this,H).push({pipeline:y,uniformBuffer:h.buffer,vertices:M,verticesCount:6,zIndex:S})}texture(e,i,s){C(this.renderPass,"Call startFrame before texture");let r=this.resolveTextureURL(e),n=this.textureCache[r.href];if(!n){this.loadTexture(r);return}if(n.kind==="loading")return;let a={color:q.WHITE,x:0,y:0,z:0,width:n.texture.width,height:n.texture.height,scale:d(1),skew:d(0),rotation:0,pivot:d(.5),material:_e(),colorMap:[],ignoreAspectRatio:!1};if(i&&!i.ignoreAspectRatio){let{width:z,height:G}=a;i.height&&(a.width=z*i.height/G),i.width&&(a.height=G*i.width/z)}let{color:o,material:l,...c}={...a,...gt({...i,z:i?.z})},h=ke(x(this,I),i?.camera??x(this,J),c,s),y=new ne;y.addmat3x3f(h),y.addvec4f(...o);let S=l.shader==null?this.pipelines[l.blend].texture:X(this.device,l.shader,{label:"CustomTexture",blend:re[l.blend]}),M=c.z??0,E=new Float32Array([0,0,c.width,0,c.width,c.height,0,0,c.width,c.height,0,c.height]);x(this,H).push({pipeline:S,uniformBuffer:y.buffer,vertices:E,verticesCount:6,zIndex:M,texture:n.texture,colorMap:c.colorMap})}text(e,i,s){if(C(this.renderPass,"Call startFrame before text"),!e)return;let r={color:q.WHITE,x:0,y:0,z:0,scale:d(1),skew:d(0),pivot:d(.5),rotation:0,fontSize:24,fontFamily:"Helvetica"},n=i?.material??_e(),a={...r,...gt({...i,z:i?.z})},{canvas:o,width:l,height:c}=ns(e,a),h=Ur(this.device,o),y=n.shader==null?this.pipelines[n.blend].texture:X(this.device,n.shader,{label:"CustomText",blend:re[n.blend]}),S=new ne,M=ke(x(this,I),i?.camera??x(this,J),{...a,height:c,width:l},s);S.addmat3x3f(M),S.addvec4f(...q.WHITE);let E=a.z??0,z=new Float32Array([0,0,l,0,l,c,0,0,l,c,0,c]);return x(this,H).push({pipeline:y,uniformBuffer:S.buffer,vertices:z,verticesCount:6,zIndex:E,texture:h}),{width:l,height:c}}measureText(e,i){return di(e,i)}sprite(e,i,s){C(this.renderPass,"Call startFrame before texture");let r=this.resolveTextureURL(e),n=this.textureCache[r.href];if(!n){this.loadTexture(r);return}if(n.kind==="loading")return;let a={color:q.WHITE,x:0,y:0,z:0,width:n.texture.width,height:n.texture.height,scale:d(1),skew:d(0),rotation:0,pivot:d(.5),material:_e(),ignoreAspectRatio:!0,frame:{pos:{x:0,y:0},width:n.texture.height,height:n.texture.height},colorMap:[]},{color:o,material:l,frame:c,...h}={...a,...gt(i)},y=c.pos.x/n.texture.width,S=c.pos.y/n.texture.height,M=y+c.width/n.texture.width,E=S+c.height/n.texture.height,z=ke(x(this,I),i?.camera??x(this,J),h,s),G=new ne;G.addmat3x3f(z),G.addvec4f(...o),G.addvec4f(y,S,M,E);let He=l.shader==null?this.pipelines[l.blend].sprite:X(this.device,l.shader,{label:"CustomTexture",blend:re[l.blend]}),Je=h.z??0,Qe=new Float32Array([0,0,h.width,0,h.width,h.height,0,0,h.width,h.height,0,h.height]);x(this,H).push({pipeline:He,uniformBuffer:G.buffer,vertices:Qe,verticesCount:6,zIndex:Je,texture:n.texture,colorMap:h.colorMap})}circle(e={},i){C(this.renderPass,"Call startFrame before circle");let s={color:e.color??q.MAGENTA,x:e.x??0,y:e.y??0,z:e.z??0,scale:e.scale??d(1),skew:e.skew??d(0),pivot:e.pivot??d(.5),rotation:e.rotation??0,material:e.material??_e(),radius:e.radius??100,startAngle:e.startAngle??0,endAngle:e.endAngle??Math.PI*2,innerRadius:e.innerRadius??0,subdivisions:e.subdivisions??24,camera:e.camera??x(this,J)};s.pivot=d(ki(s.pivot.x),ki(s.pivot.y));let r=s.material.shader==null?this.pipelines[s.material.blend].rect:X(this.device,s.material.shader,{label:"CustomCircle",blend:re[s.material.blend]}),n=ke(x(this,I),s.camera,{...s,height:s.radius,width:s.radius},i),a=new ne;a.addmat3x3f(n),a.addvec4f(...s.color);let{vertices:o,verticesCount:l}=Fr(s);x(this,H).push({pipeline:r,uniformBuffer:a.buffer,vertices:o,verticesCount:l,zIndex:s.z??0})}get defaultPipeline(){return this.pipelines[zt].texture}get camera(){return x(this,J)}set camera(e){Z(this,J,e)}get clearColor(){return x(this,kt)}set clearColor(e){Z(this,kt,e)}async loadTexture(e){let i=this.textureCache[e.href];if(i?.kind==="loaded")return i.texture;this.textureCache[e.href]={kind:"loading"};let s=await Zr(e),r=this.device.createTexture({label:e.href,format:"rgba8unorm",size:[s.width,s.height],usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT});return this.device.queue.copyExternalImageToTexture({source:s,flipY:!1},{texture:r,premultipliedAlpha:!0},{width:s.width,height:s.height}),this.textureCache[e.href]={texture:r,kind:"loaded"},r}};H=new WeakMap,J=new WeakMap,kt=new WeakMap,I=new WeakMap,Tt=new WeakMap,Rt=new WeakMap,li=new WeakSet,Ui=function(t){if(this.renderPass.setPipeline(t.pipeline),zr(this.device,t.pipeline,this.renderPass,t.uniformBuffer,0),t.texture){let e=Br(this.device,t.pipeline,t.texture,1,this.minFilter,this.magFilter,t.colorMap);this.renderPass.setBindGroup(1,e)}this.vertices(t.verticesCount,t.vertices)};async function Zr(t){let e=await(await fetch(t)).blob();try{return await createImageBitmap(e,{colorSpaceConversion:"none"})}catch{let i=new Error(`Failed to create image from ${t}`);throw i.name="InvalidFile",i}}async function Di(t,e,i){C(navigator.gpu,"WebGPU is not available"),C(t,"Canvas element is required"),C(t.getContext,"Canvas element is not a canvas"),t.width=e.width,t.height=e.height;let s=await navigator.gpu.requestAdapter();C(s,"GPU Adapter not found");let r=await s.requestDevice();C(r,`Couldn't get device from adapter: ${s}`);let n=t.getContext("webgpu");C(n,"Couldn't get webgpu context from canvas");let a=navigator.gpu.getPreferredCanvasFormat();return n.configure({device:r,format:a,alphaMode:"premultiplied"}),new ci(r,n,t,e,i)}function ke(t,e,i,s){C(i.pivot,"Pivot is required to generate matrix");let r=$r(t,i,e,s);return jr(i.pivot,i.width,i.height,r),r}function jr(t,e,i,s){let r=d(t).scale(-e,-i);Ue(s,r,s)}var gt=t=>{let e={};for(let i in t)t[i]!==void 0&&(e[i]=t[i]);return e};function ki(t){return 2*t-1}function zr(t,e,i,s,r=0){let n=t.createBuffer({label:"Uniforms",size:s.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});t.queue.writeBuffer(n,0,s);let a=t.createBindGroup({layout:e.getBindGroupLayout(r),entries:[{binding:r,resource:{buffer:n}}]});i.setBindGroup(r,a)}function Br(t,e,i,s=0,r="linear",n="linear",a=[]){let o=t.createSampler({addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",minFilter:r,magFilter:n}),l=t.createBuffer({label:"Texture Color Map Storage Buffer",size:(a.length||1)*32,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),c=new Float32Array(l.size/4);return a.forEach((h,y)=>{c.set(h.from,y*8),c.set(h.to,y*8+4)}),t.queue.writeBuffer(l,0,c),t.createBindGroup({layout:e.getBindGroupLayout(s),entries:[{binding:0,resource:o},{binding:1,resource:i.createView()},{binding:2,resource:{buffer:l}}]})}function Ur(t,e){let{width:i,height:s}=e,r=t.createTexture({label:"",size:{width:i,height:s},format:"bgra8unorm",sampleCount:1,mipLevelCount:1,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC});return t.queue.copyExternalImageToTexture({source:e,flipY:!1},{texture:r,premultipliedAlpha:!0},{width:i,height:s}),r}function X(t,e,i={}){let s={arrayStride:8,attributes:[{format:"float32x2",offset:0,shaderLocation:0}]},{blend:r,vertexFn:n="vs",fragmentFn:a="fs",label:o,shaderLabel:l,vertexLayout:c,format:h}={vertexFn:"vs",fragmentFn:"fs",format:i.format||navigator.gpu.getPreferredCanvasFormat(),blend:re[zt],vertexLayout:s,label:"unlabelled pipeline",shaderLabel:i.shaderLabel||e.slice(0,40),...i},y=t.createShaderModule({label:l,code:e});return t.createRenderPipeline({label:o,layout:"auto",vertex:{module:y,entryPoint:n,buffers:[c]},fragment:{module:y,entryPoint:a,targets:[{format:h,blend:r}]}})}function Dr(t,e){let i=Te(),s=d(e.width,e.height).mutScale(t.pivot);return Ue(i,s,i),st(i,t.rotation,i),Ft(i,{x:t.zoom,y:t.zoom},i),Ue(i,{x:-t.x,y:-t.y},i),i}function $r(t,e,i,s){let r=s??Vr({x:e.x,y:e.y},e.rotation,e.scale,e.skew),n=Dr(i,t),a=qr(t);return Kt(Kt(a,n),r)}function Vr(t,e,i,s,r){let n=r?ls(r):Te();return Ue(n,t,n),n[0]=Math.cos(e+s.y)*i.x,n[1]=Math.sin(e+s.y)*i.x,n[4]=-Math.sin(e+s.x)*i.y,n[5]=Math.cos(e+s.x)*i.y,n}function qr(t){let{width:e,height:i}=t,s=Si({x:-1,y:1});return Ft(s,{x:2/e,y:-2/i},s),s}var Wr=Object.defineProperty,Gr=(t,e,i)=>e in t?Wr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,$i=(t,e,i)=>(Gr(t,typeof e!="symbol"?e+"":e,i),i),Wi=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},dt=(t,e,i)=>(Wi(t,e,"read from private field"),i?i.call(t):e.get(t)),Vi=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},qi=(t,e,i,s)=>(Wi(t,e,"write to private field"),s?s.call(t,i):e.set(t,i),i);function Yr(t){let[e,i]=sn(t.id);switch(!e&&!i&&Nt(`vendorid-${t.id}`,`Can't read gamepad vendor id or product id: ${t.id}`),e+"-"+i){case"18d1-9400":return Qr(t);case"0f30-1012":case"2c22-2000":case"2c22-2300":case"2c22-2302":return en(t,e,i);case"1532-0401":case"1532-0402":case"1532-1008":case"0c12-0ef7":return tn(t,e,i);case"054c-0ce6":return Kr(t,e,i);case"054c-05c4":case"054c-09cc":return Xr(t,e,i);case"057e-2009":return Hr(t,e,i);case"045e-028e":return Jr(t,e,i);default:return Nt(`gamepadid-${t.id}`,`Unknown gamepad: ${t.id}. using default mapping, inputs might be wrong.`),rn(t)}}function Kr(t,e,i){return{id:t.id,index:t.index,productId:e,vendorId:i,axes:[{hand:A.Left,value:[t.axes[0],t.axes[1]]},{hand:A.Right,value:[t.axes[2],t.axes[3]]}],buttons:we(t,[{label:"x",position:u.RightFaceBottom},{label:"o",position:u.RightFaceRight},{label:"square",position:u.RightFaceLeft},{label:"triangle",position:u.RightFaceTop},{label:"L1",position:u.LeftShoulderFront},{label:"R1",position:u.RightShoulderFront},{label:"L2",position:u.LeftShoulderBack},{label:"R2",position:u.RightShoulderBack},{position:u.MiddleLeft},{position:u.MiddleRight},{position:u.LeftThumbstick},{position:u.RightThumbstick},{position:u.LeftFaceTop},{position:u.LeftFaceBottom},{position:u.LeftFaceLeft},{position:u.LeftFaceRight}]),down:new Set,up:new Set}}function Xr(t,e,i){return{id:t.id,index:t.index,productId:e,vendorId:i,axes:[{hand:A.Left,value:[t.axes[0],t.axes[1]]},{hand:A.Right,value:[t.axes[2],t.axes[3]]}],buttons:we(t,[{label:"x",position:u.RightFaceBottom},{label:"o",position:u.RightFaceRight},{label:"square",position:u.RightFaceLeft},{label:"triangle",position:u.RightFaceTop},{label:"L1",position:u.LeftShoulderFront},{label:"R1",position:u.RightShoulderFront},{label:"L2",position:u.LeftShoulderBack},{label:"R2",position:u.RightShoulderBack},{position:u.MiddleLeft},{position:u.MiddleRight},{position:u.LeftThumbstick},{position:u.RightThumbstick},{position:u.LeftFaceTop},{position:u.LeftFaceBottom},{position:u.LeftFaceLeft},{position:u.LeftFaceRight}]),down:new Set,up:new Set}}function Hr(t,e,i){return{id:t.id,index:t.index,productId:e,vendorId:i,axes:[{hand:A.Left,value:[t.axes[0],t.axes[1]]},{hand:A.Right,value:[t.axes[2],t.axes[3]]}],buttons:we(t,[{label:"b",position:u.RightFaceBottom},{label:"a",position:u.RightFaceRight},{label:"y",position:u.RightFaceLeft},{label:"x",position:u.RightFaceTop},{label:"l",position:u.LeftShoulderFront},{label:"r",position:u.RightShoulderFront},{label:"zl",position:u.LeftShoulderBack},{label:"zr",position:u.RightShoulderBack},{position:u.MiddleLeft},{position:u.MiddleRight},{position:u.LeftThumbstick},{position:u.RightThumbstick},{position:u.LeftFaceTop},{position:u.LeftFaceBottom},{position:u.LeftFaceLeft},{position:u.LeftFaceRight}]),down:new Set,up:new Set}}function Jr(t,e,i){return{id:t.id,index:t.index,productId:e,vendorId:i,axes:[{hand:A.Left,value:[t.axes[0],t.axes[1]]},{hand:A.Right,value:[t.axes[2],t.axes[3]]}],buttons:we(t,[{label:"a",position:u.RightFaceBottom},{label:"b",position:u.RightFaceRight},{label:"x",position:u.RightFaceLeft},{label:"y",position:u.RightFaceTop},{label:"L1",position:u.LeftShoulderFront},{label:"R1",position:u.RightShoulderFront},{label:"L2",position:u.LeftShoulderBack},{label:"R2",position:u.RightShoulderBack},{position:u.MiddleLeft},{position:u.MiddleRight},{position:u.LeftThumbstick},{position:u.RightThumbstick},{position:u.LeftFaceTop},{position:u.LeftFaceBottom},{position:u.LeftFaceLeft},{position:u.LeftFaceRight}]),down:new Set,up:new Set}}function Qr(t){return{id:t.id,index:t.index,productId:"9400",vendorId:"18d1",axes:[{hand:A.Left,value:[t.axes[0],t.axes[1]]},{hand:A.Right,value:[t.axes[2],t.axes[3]]}],buttons:we(t,[{label:"A",position:u.RightFaceBottom},{label:"B",position:u.RightFaceRight},{label:"X",position:u.RightFaceLeft},{label:"Y",position:u.RightFaceTop},{label:"L1",position:u.LeftShoulderFront},{label:"R1",position:u.RightShoulderFront},{label:"L2",position:u.LeftShoulderBack},{label:"R2",position:u.RightShoulderBack},{position:u.MiddleLeft},{position:u.MiddleRight},{position:u.LeftThumbstick},{position:u.RightThumbstick},{position:u.LeftFaceTop},{position:u.LeftFaceBottom},{position:u.LeftFaceLeft},{position:u.LeftFaceRight},{label:"S",position:u.Middle}]),down:new Set,up:new Set}}function en(t,e,i){return{id:t.id,index:t.index,productId:e,vendorId:i,axes:[{hand:A.Left,value:Gi(t,3.2857141494750977)}],buttons:we(t,[{label:"square",position:u.RightFaceLeft},{label:"x",position:u.RightFaceBottom},{label:"o",position:u.RightFaceRight},{label:"triangle",position:u.RightFaceTop},{label:"L1",position:u.LeftShoulderFront},{label:"R1",position:u.RightShoulderFront},{label:"L2",position:u.LeftShoulderBack},{label:"R2",position:u.RightShoulderBack},{label:"Share",position:u.MiddleLeft},{label:"Options",position:u.MiddleRight},{label:"L3",position:u.LeftThumbstick},{label:"R3",position:u.RightThumbstick},{label:"Home",position:u.Middle}]),down:new Set,up:new Set}}function tn(t,e,i){return{id:t.id,index:t.index,productId:e,vendorId:i,axes:[{hand:A.Left,value:Gi(t,1.2857143878936768)}],buttons:we(t,[{label:"square",position:u.RightFaceLeft},{label:"x",position:u.RightFaceBottom},{label:"o",position:u.RightFaceRight},{label:"triangle",position:u.RightFaceTop},{label:"L1",position:u.LeftShoulderFront},{label:"R1",position:u.RightShoulderFront},{label:"L2",position:u.LeftShoulderBack},{label:"R2",position:u.RightShoulderBack},{label:"Share",position:u.MiddleLeft},{label:"Options",position:u.MiddleRight},{label:"L3",position:u.LeftThumbstick},{label:"R3",position:u.RightThumbstick},{label:"Home",position:u.Middle},{label:"Touchpad",position:u.Middle}]),down:new Set,up:new Set}}function Gi(t,e){if(t.axes[9]!==void 0&&t.axes[9]!==0){let i=[{vec:[0,0],approximate:e},{vec:[0,-1],approximate:-1},{vec:[1,-1],approximate:-.7142857142857143},{vec:[1,0],approximate:-.4285714285714286},{vec:[1,1],approximate:-.1428571428571429},{vec:[0,1],approximate:.1428571428571428},{vec:[-1,1],approximate:.4285714285714286},{vec:[-1,0],approximate:.7142857142857142},{vec:[-1,-1],approximate:1}].filter(s=>Math.abs(s.approximate-t.axes[9])<.01);if(i.length===1)return i[0].vec;console.warn("Unknown value for axes[9]",t.axes[9])}return[t.axes[0],t.axes[1]]}function sn(t){let e=t.match(/Vendor: ([0-9a-f]+) Product: ([0-9a-f]+)/);if(e)return e.slice(1,3);if(t.match(/^[0-9a-f]+-[0-9a-f]+/))return t.split("-").map(i=>i.length===3?"0"+i:i).slice(0,2);switch(t){case"DualSense Wireless Controller Extended Gamepad":return["054c","0ce6"];case"Stadia Controller rev. A Extended Gamepad":return["18d1","9400"];default:return["",""]}}function rn(t){return{id:t.id,index:t.index,axes:[{hand:A.Left,value:[t.axes[0],t.axes[1]]},{hand:A.Right,value:[t.axes[2],t.axes[3]]}],buttons:we(t,[{label:"A",position:u.RightFaceBottom},{label:"B",position:u.RightFaceRight},{label:"X",position:u.RightFaceLeft},{label:"Y",position:u.RightFaceTop},{label:"L1",position:u.LeftShoulderFront},{label:"R1",position:u.RightShoulderFront},{label:"L2",position:u.LeftShoulderBack},{label:"R2",position:u.RightShoulderBack},{position:u.MiddleLeft},{position:u.MiddleRight},{position:u.LeftThumbstick},{position:u.RightThumbstick},{position:u.LeftFaceTop},{position:u.LeftFaceBottom},{position:u.LeftFaceLeft},{position:u.LeftFaceRight},{label:"S",position:u.Middle}]),down:new Set,up:new Set}}function we(t,e){return t.buttons.slice(0,e.length).map((i,s)=>({label:e[s].label,position:e[s].position,value:i.value}))}var ht,Xe,mi=class{constructor(e){if($i(this,"snapshot"),$i(this,"bytes"),Vi(this,ht,1),Vi(this,Xe,0),this.snapshot=fi(),this.bytes=new Uint8Array(De.byteLength(at,ot,dt(this,Xe))),window.addEventListener("keydown",i=>{let s=i.code;s.startsWith("Key")&&s.length==4&&(s=s.slice(3)),this.snapshot.keyboard.down.add(Zt[s])}),window.addEventListener("keyup",i=>{let s=i.code;s.startsWith("Key")&&s.length==4&&(s=s.slice(3)),this.snapshot.keyboard.up.add(Zt[s])}),!e)throw new Error("Tried to create BrowserInput but element is null");window.addEventListener("mousedown",()=>{this.snapshot.mouse.down.add(P.Left)}),window.addEventListener("mouseup",()=>{this.snapshot.mouse.up.add(P.Left)}),window.addEventListener("mousemove",i=>{let s=e.getBoundingClientRect();this.snapshot.mouse.x=(i.pageX-s.left)*dt(this,ht),this.snapshot.mouse.y=(i.pageY-s.top)*dt(this,ht)}),window.addEventListener("blur",()=>{this.snapshot.mouse.down.clear(),this.snapshot.keyboard.down.clear();for(let i of this.snapshot.gamepads)i.down.clear();this.flush()})}pollGamepads(){let e=navigator.getGamepads().filter(i=>!!i).map(Yr);e.length!==dt(this,Xe)&&(qi(this,Xe,e.length),this.updateBuffer());for(let i=0;i<e.length;i++){i>=this.snapshot.gamepads.length&&this.snapshot.gamepads.push({index:e[i].index,down:new Set,up:new Set,buttons:e[i].buttons,axes:e[i].axes}),this.snapshot.gamepads[i].index=e[i].index,this.snapshot.gamepads[i].buttons=e[i].buttons,this.snapshot.gamepads[i].axes=e[i].axes;for(let s=0;s<e[i].buttons.length;s++){let r=e[i].buttons[s].position;C(r),e[i].buttons[s].value>0?this.snapshot.gamepads[i].down.add(r):this.snapshot.gamepads[i].down.has(r)?this.snapshot.gamepads[i].up.add(r):this.snapshot.gamepads[i].up.delete(r)}}}updateBuffer(){this.bytes=new Uint8Array(De.byteLength(at,ot,dt(this,Xe)))}readInput(){return this.bytes.fill(0),De.encodeSnapshot(this.bytes,this.snapshot),this.flush(),this.bytes}flush(){this.snapshot.keyboard.up.forEach(e=>this.snapshot.keyboard.down.delete(e)),this.snapshot.mouse.up.forEach(e=>this.snapshot.mouse.down.delete(e)),this.snapshot.keyboard.up.clear(),this.snapshot.mouse.up.clear();for(let e of this.snapshot.gamepads)e.up.forEach(i=>e.down.delete(i)),e.up.clear()}resize(e=1){qi(this,ht,e)}};ht=new WeakMap,Xe=new WeakMap;async function gn(t,e){document.body.style.margin="0",document.body.style.padding="0";let i=document.createElement("main");i.style.height="100vh",i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",document.body.appendChild(i);let s=document.createElement("canvas");i.appendChild(s),await nn(t,s,e)}async function nn(t,e,i={}){let s=await an(t,e,i);on(t,e),e.style.imageRendering="pixelated";let r=()=>{if(i.resizeCanvas!=="manual")if(i.resolution){let a=t.context.screenSpecs.aspectRatio;e.style.width="100vw",e.style.maxWidth=`min(100vw, calc(100vh * ${a}))`,e.style.aspectRatio=`${a}`}else t.context.screen.width=window.innerWidth,t.context.screen.height=window.innerHeight,e.width=window.innerWidth,e.height=window.innerHeight,e.style.width="100vw",e.style.height="100vh";t.context.screenSpecs.pixelRatio=e.width/e.clientWidth,s.resize(t.context.screen),t.inputSource.resize(t.context.screenSpecs.pixelRatio)};r();let n=ln(e,r);return document.dispatchEvent(new CustomEvent("void:game:mounted",{detail:{game:t}})),t.preload&&await t.preload(t.context.state,t.context),t.run(),()=>{t.unmount(),n.disconnect()}}async function an(t,e,i={}){var s,r;let n,a=new Ci({pivot:d(0),width:((s=i.resolution)==null?void 0:s.width)??window.innerWidth,height:((r=i.resolution)==null?void 0:r.height)??window.innerHeight});t.context.screen=a,t.context.screenSpecs={aspectRatio:a.width/a.height,pixelRatio:1},t.context.camera={x:a.width/2,y:a.height/2,zoom:1,rotation:0,pivot:d(.5)};let o=i.resolveTextureURL??(l=>new URL(l,window.location.href));return n=await Di(e,a,o),t.context.painter=n,n.camera=t.context.camera,n}function on(t,e){let i=new mi(e);t.inputSource=i}function ln(t,e){let i=new ResizeObserver(s=>{s.length!==0&&e()});return i.observe(t),i}export{on as attachInputs,an as attachPainter,gn as entrypoint,nn as mount};
/*! Bundled license information:

@vaguevoid/sdk/dist/graphics-47f48627.js:
  (*!
   * Reconnecting WebSocket
   * by Pedro Ladaria <pedro.ladaria@gmail.com>
   * https://github.com/pladaria/reconnecting-websocket
   * License MIT
   *)
*/
